import{c as sr,g as Eu}from"./vendor-react-BMMH99lG.js";var Ou={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(S,w){var R=S.length;S.push(w);e:for(;0<R;){var L=R-1>>>1,j=S[L];if(0<n(j,w))S[L]=w,S[R]=j,R=L;else break e}}function t(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var w=S[0],R=S.pop();if(R!==w){S[0]=R;e:for(var L=0,j=S.length,F=j>>>1;L<F;){var Q=2*(L+1)-1,D=S[Q],J=Q+1,q=S[J];if(0>n(D,R))J<j&&0>n(q,D)?(S[L]=q,S[J]=R,L=J):(S[L]=D,S[Q]=R,L=Q);else if(J<j&&0>n(q,R))S[L]=q,S[J]=R,L=J;else break e}}return w}function n(S,w){var R=S.sortIndex-w.sortIndex;return R!==0?R:S.id-w.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();r.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,h=null,c=3,v=!1,d=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var w=t(u);w!==null;){if(w.callback===null)a(u);else if(w.startTime<=S)a(u),w.sortIndex=w.expirationTime,e(l,w);else break;w=t(u)}}function T(S){if(p=!1,b(S),!d)if(t(l)!==null)d=!0,G(_);else{var w=t(u);w!==null&&U(T,w.startTime-S)}}function _(S,w){d=!1,p&&(p=!1,m(P),P=-1),v=!0;var R=c;try{for(b(w),h=t(l);h!==null&&(!(h.expirationTime>w)||S&&!B());){var L=h.callback;if(typeof L=="function"){h.callback=null,c=h.priorityLevel;var j=L(h.expirationTime<=w);w=r.unstable_now(),typeof j=="function"?h.callback=j:h===t(l)&&a(l),b(w)}else a(l);h=t(l)}if(h!==null)var F=!0;else{var Q=t(u);Q!==null&&U(T,Q.startTime-w),F=!1}return F}finally{h=null,c=R,v=!1}}var N=!1,A=null,P=-1,$=5,V=-1;function B(){return!(r.unstable_now()-V<$)}function k(){if(A!==null){var S=r.unstable_now();V=S;var w=!0;try{w=A(!0,S)}finally{w?H():(N=!1,A=null)}}else N=!1}var H;if(typeof O=="function")H=function(){O(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=k,H=function(){Y.postMessage(null)}}else H=function(){y(k,0)};function G(S){A=S,N||(N=!0,H())}function U(S,w){P=y(function(){S(r.unstable_now())},w)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_continueExecution=function(){d||v||(d=!0,G(_))},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return c},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(S){switch(c){case 1:case 2:case 3:var w=3;break;default:w=c}var R=c;c=w;try{return S()}finally{c=R}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(S,w){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=c;c=S;try{return w()}finally{c=R}},r.unstable_scheduleCallback=function(S,w,R){var L=r.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?L+R:L):R=L,S){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=R+j,S={id:f++,callback:w,priorityLevel:S,startTime:R,expirationTime:j,sortIndex:-1},R>L?(S.sortIndex=R,e(u,S),t(l)===null&&S===t(u)&&(p?(m(P),P=-1):p=!0,U(T,R-L))):(S.sortIndex=j,e(l,S),d||v||(d=!0,G(_))),S},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(S){var w=c;return function(){var R=c;c=w;try{return S.apply(this,arguments)}finally{c=R}}}})(Su);Ou.exports=Su;var iO=Ou.exports;function Mr(r){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(r)}var be=Uint8Array,Ne=Uint16Array,Ji=Int32Array,ka=new be([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fa=new be([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ui=new be([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xu=function(r,e){for(var t=new Ne(31),a=0;a<31;++a)t[a]=e+=1<<r[a-1];for(var n=new Ji(t[30]),a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)n[i]=i-t[a]<<5|a;return{b:t,r:n}},wu=xu(ka,2),Au=wu.b,fi=wu.r;Au[28]=258,fi[258]=28;var Cu=xu(Fa,0),vv=Cu.b,ro=Cu.r,hi=new Ne(32768);for(var te=0;te<32768;++te){var xt=(te&43690)>>1|(te&21845)<<1;xt=(xt&52428)>>2|(xt&13107)<<2,xt=(xt&61680)>>4|(xt&3855)<<4,hi[te]=((xt&65280)>>8|(xt&255)<<8)>>1}var st=function(r,e,t){for(var a=r.length,n=0,i=new Ne(e);n<a;++n)r[n]&&++i[r[n]-1];var o=new Ne(e);for(n=1;n<e;++n)o[n]=o[n-1]+i[n-1]<<1;var s;if(t){s=new Ne(1<<e);var l=15-e;for(n=0;n<a;++n)if(r[n])for(var u=n<<4|r[n],f=e-r[n],h=o[r[n]-1]++<<f,c=h|(1<<f)-1;h<=c;++h)s[hi[h]>>l]=u}else for(s=new Ne(a),n=0;n<a;++n)r[n]&&(s[n]=hi[o[r[n]-1]++]>>15-r[n]);return s},Ct=new be(288);for(var te=0;te<144;++te)Ct[te]=8;for(var te=144;te<256;++te)Ct[te]=9;for(var te=256;te<280;++te)Ct[te]=7;for(var te=280;te<288;++te)Ct[te]=8;var Lr=new be(32);for(var te=0;te<32;++te)Lr[te]=5;var cv=st(Ct,9,0),gv=st(Ct,9,1),dv=st(Lr,5,0),pv=st(Lr,5,1),un=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},ze=function(r,e,t){var a=e/8|0;return(r[a]|r[a+1]<<8)>>(e&7)&t},fn=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},es=function(r){return(r+7)/8|0},$u=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new be(r.subarray(e,t))},yv=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xe=function(r,e,t){var a=new Error(e||yv[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,Xe),!t)throw a;return a},mv=function(r,e,t,a){var n=r.length,i=0;if(!n||e.f&&!e.l)return t||new be(0);var o=!t,s=o||e.i!=2,l=e.i;o&&(t=new be(n*3));var u=function($e){var Me=t.length;if($e>Me){var Pe=new be(Math.max(Me*2,$e));Pe.set(t),t=Pe}},f=e.f||0,h=e.p||0,c=e.b||0,v=e.l,d=e.d,p=e.m,y=e.n,m=n*8;do{if(!v){f=ze(r,h,1);var O=ze(r,h+1,3);if(h+=3,O)if(O==1)v=gv,d=pv,p=9,y=5;else if(O==2){var N=ze(r,h,31)+257,A=ze(r,h+10,15)+4,P=N+ze(r,h+5,31)+1;h+=14;for(var $=new be(P),V=new be(19),B=0;B<A;++B)V[ui[B]]=ze(r,h+B*3,7);h+=A*3;for(var k=un(V),H=(1<<k)-1,X=st(V,k,1),B=0;B<P;){var Y=X[ze(r,h,H)];h+=Y&15;var b=Y>>4;if(b<16)$[B++]=b;else{var G=0,U=0;for(b==16?(U=3+ze(r,h,3),h+=2,G=$[B-1]):b==17?(U=3+ze(r,h,7),h+=3):b==18&&(U=11+ze(r,h,127),h+=7);U--;)$[B++]=G}}var S=$.subarray(0,N),w=$.subarray(N);p=un(S),y=un(w),v=st(S,p,1),d=st(w,y,1)}else Xe(1);else{var b=es(h)+4,T=r[b-4]|r[b-3]<<8,_=b+T;if(_>n){l&&Xe(0);break}s&&u(c+T),t.set(r.subarray(b,_),c),e.b=c+=T,e.p=h=_*8,e.f=f;continue}if(h>m){l&&Xe(0);break}}s&&u(c+131072);for(var R=(1<<p)-1,L=(1<<y)-1,j=h;;j=h){var G=v[fn(r,h)&R],F=G>>4;if(h+=G&15,h>m){l&&Xe(0);break}if(G||Xe(2),F<256)t[c++]=F;else if(F==256){j=h,v=null;break}else{var Q=F-254;if(F>264){var B=F-257,D=ka[B];Q=ze(r,h,(1<<D)-1)+Au[B],h+=D}var J=d[fn(r,h)&L],q=J>>4;J||Xe(3),h+=J&15;var w=vv[q];if(q>3){var D=Fa[q];w+=fn(r,h)&(1<<D)-1,h+=D}if(h>m){l&&Xe(0);break}s&&u(c+131072);var Ee=c+Q;if(c<w){var Ue=i-w,Ie=Math.min(w,Ee);for(Ue+c<0&&Xe(3);c<Ie;++c)t[c]=a[Ue+c]}for(;c<Ee;++c)t[c]=t[c-w]}}e.l=v,e.p=j,e.b=c,e.f=f,v&&(f=1,e.m=p,e.d=d,e.n=y)}while(!f);return c!=t.length&&o?$u(t,0,c):t.subarray(0,c)},ht=function(r,e,t){t<<=e&7;var a=e/8|0;r[a]|=t,r[a+1]|=t>>8},Er=function(r,e,t){t<<=e&7;var a=e/8|0;r[a]|=t,r[a+1]|=t>>8,r[a+2]|=t>>16},hn=function(r,e){for(var t=[],a=0;a<r.length;++a)r[a]&&t.push({s:a,f:r[a]});var n=t.length,i=t.slice();if(!n)return{t:Ru,l:0};if(n==1){var o=new be(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(_,N){return _.f-N.f}),t.push({s:-1,f:25001});var s=t[0],l=t[1],u=0,f=1,h=2;for(t[0]={s:-1,f:s.f+l.f,l:s,r:l};f!=n-1;)s=t[t[u].f<t[h].f?u++:h++],l=t[u!=f&&t[u].f<t[h].f?u++:h++],t[f++]={s:-1,f:s.f+l.f,l:s,r:l};for(var c=i[0].s,a=1;a<n;++a)i[a].s>c&&(c=i[a].s);var v=new Ne(c+1),d=vi(t[f-1],v,0);if(d>e){var a=0,p=0,y=d-e,m=1<<y;for(i.sort(function(N,A){return v[A.s]-v[N.s]||N.f-A.f});a<n;++a){var O=i[a].s;if(v[O]>e)p+=m-(1<<d-v[O]),v[O]=e;else break}for(p>>=y;p>0;){var b=i[a].s;v[b]<e?p-=1<<e-v[b]++-1:++a}for(;a>=0&&p;--a){var T=i[a].s;v[T]==e&&(--v[T],++p)}d=e}return{t:new be(v),l:d}},vi=function(r,e,t){return r.s==-1?Math.max(vi(r.l,e,t+1),vi(r.r,e,t+1)):e[r.s]=t},ao=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ne(++e),a=0,n=r[0],i=1,o=function(l){t[a++]=l},s=1;s<=e;++s)if(r[s]==n&&s!=e)++i;else{if(!n&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(n),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(n);i=1,n=r[s]}return{c:t.subarray(0,a),n:e}},Or=function(r,e){for(var t=0,a=0;a<e.length;++a)t+=r[a]*e[a];return t},Pu=function(r,e,t){var a=t.length,n=es(e+2);r[n]=a&255,r[n+1]=a>>8,r[n+2]=r[n]^255,r[n+3]=r[n+1]^255;for(var i=0;i<a;++i)r[n+i+4]=t[i];return(n+4+a)*8},no=function(r,e,t,a,n,i,o,s,l,u,f){ht(e,f++,t),++n[256];for(var h=hn(n,15),c=h.t,v=h.l,d=hn(i,15),p=d.t,y=d.l,m=ao(c),O=m.c,b=m.n,T=ao(p),_=T.c,N=T.n,A=new Ne(19),P=0;P<O.length;++P)++A[O[P]&31];for(var P=0;P<_.length;++P)++A[_[P]&31];for(var $=hn(A,7),V=$.t,B=$.l,k=19;k>4&&!V[ui[k-1]];--k);var H=u+5<<3,X=Or(n,Ct)+Or(i,Lr)+o,Y=Or(n,c)+Or(i,p)+o+14+3*k+Or(A,V)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&H<=X&&H<=Y)return Pu(e,f,r.subarray(l,l+u));var G,U,S,w;if(ht(e,f,1+(Y<X)),f+=2,Y<X){G=st(c,v,0),U=c,S=st(p,y,0),w=p;var R=st(V,B,0);ht(e,f,b-257),ht(e,f+5,N-1),ht(e,f+10,k-4),f+=14;for(var P=0;P<k;++P)ht(e,f+3*P,V[ui[P]]);f+=3*k;for(var L=[O,_],j=0;j<2;++j)for(var F=L[j],P=0;P<F.length;++P){var Q=F[P]&31;ht(e,f,R[Q]),f+=V[Q],Q>15&&(ht(e,f,F[P]>>5&127),f+=F[P]>>12)}}else G=cv,U=Ct,S=dv,w=Lr;for(var P=0;P<s;++P){var D=a[P];if(D>255){var Q=D>>18&31;Er(e,f,G[Q+257]),f+=U[Q+257],Q>7&&(ht(e,f,D>>23&31),f+=ka[Q]);var J=D&31;Er(e,f,S[J]),f+=w[J],J>3&&(Er(e,f,D>>5&8191),f+=Fa[J])}else Er(e,f,G[D]),f+=U[D]}return Er(e,f,G[256]),f+U[256]},bv=new Ji([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ru=new be(0),Tv=function(r,e,t,a,n,i){var o=i.z||r.length,s=new be(a+o+5*(1+Math.ceil(o/7e3))+n),l=s.subarray(a,s.length-n),u=i.l,f=(i.r||0)&7;if(e){f&&(l[0]=i.r>>3);for(var h=bv[e-1],c=h>>13,v=h&8191,d=(1<<t)-1,p=i.p||new Ne(32768),y=i.h||new Ne(d+1),m=Math.ceil(t/3),O=2*m,b=function(fe){return(r[fe]^r[fe+1]<<m^r[fe+2]<<O)&d},T=new Ji(25e3),_=new Ne(288),N=new Ne(32),A=0,P=0,$=i.i||0,V=0,B=i.w||0,k=0;$+2<o;++$){var H=b($),X=$&32767,Y=y[H];if(p[X]=Y,y[H]=X,B<=$){var G=o-$;if((A>7e3||V>24576)&&(G>423||!u)){f=no(r,l,0,T,_,N,P,V,k,$-k,f),V=A=P=0,k=$;for(var U=0;U<286;++U)_[U]=0;for(var U=0;U<30;++U)N[U]=0}var S=2,w=0,R=v,L=X-Y&32767;if(G>2&&H==b($-L))for(var j=Math.min(c,G)-1,F=Math.min(32767,$),Q=Math.min(258,G);L<=F&&--R&&X!=Y;){if(r[$+S]==r[$+S-L]){for(var D=0;D<Q&&r[$+D]==r[$+D-L];++D);if(D>S){if(S=D,w=L,D>j)break;for(var J=Math.min(L,D-2),q=0,U=0;U<J;++U){var Ee=$-L+U&32767,Ue=p[Ee],Ie=Ee-Ue&32767;Ie>q&&(q=Ie,Y=Ee)}}}X=Y,Y=p[X],L+=X-Y&32767}if(w){T[V++]=268435456|fi[S]<<18|ro[w];var $e=fi[S]&31,Me=ro[w]&31;P+=ka[$e]+Fa[Me],++_[257+$e],++N[Me],B=$+S,++A}else T[V++]=r[$],++_[r[$]]}}for($=Math.max($,B);$<o;++$)T[V++]=r[$],++_[r[$]];f=no(r,l,u,T,_,N,P,V,k,$-k,f),u||(i.r=f&7|l[f/8|0]<<3,f-=7,i.h=y,i.p=p,i.i=$,i.w=B)}else{for(var $=i.w||0;$<o+u;$+=65535){var Pe=$+65535;Pe>=o&&(l[f/8|0]=u,Pe=o),f=Pu(l,f+1,r.subarray($,Pe))}i.i=o}return $u(s,0,a+es(f)+n)},Nu=function(){var r=1,e=0;return{p:function(t){for(var a=r,n=e,i=t.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)n+=a+=t[o];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}r=a,e=n},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Ev=function(r,e,t,a,n){if(!n&&(n={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new be(i.length+r.length);o.set(i),o.set(r,i.length),r=o,n.w=i.length}return Tv(r,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,a,n)},_u=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ov=function(r,e){var t=e.level,a=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var n=Nu();n.p(e.dictionary),_u(r,2,n.d())}},Sv=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Xe(6,"invalid zlib data"),(r[1]>>5&1)==1&&Xe(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function sO(r,e){e||(e={});var t=Nu();t.p(r);var a=Ev(r,e,e.dictionary?6:2,4);return Ov(a,e),_u(a,a.length-4,t.d()),a}function oO(r,e){return mv(r.subarray(Sv(r),-4),{i:2},e,e)}var xv=typeof TextDecoder<"u"&&new TextDecoder,wv=0;try{xv.decode(Ru,{stream:!0}),wv=1}catch{}/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function At(r){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(r)}function ci(r,e){return ci=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},ci(r,e)}function Av(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ta(r,e,t){return Av()?Ta=Reflect.construct:Ta=function(n,i,o){var s=[null];s.push.apply(s,i);var l=Function.bind.apply(n,s),u=new l;return o&&ci(u,o.prototype),u},Ta.apply(null,arguments)}function We(r){return Cv(r)||$v(r)||Pv(r)||Rv()}function Cv(r){if(Array.isArray(r))return gi(r)}function $v(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Pv(r,e){if(r){if(typeof r=="string")return gi(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gi(r,e)}}function gi(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}function Rv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nv=Object.hasOwnProperty,io=Object.setPrototypeOf,_v=Object.isFrozen,Iv=Object.getPrototypeOf,Mv=Object.getOwnPropertyDescriptor,Oe=Object.freeze,ke=Object.seal,Lv=Object.create,Iu=typeof Reflect<"u"&&Reflect,Pa=Iu.apply,di=Iu.construct;Pa||(Pa=function(e,t,a){return e.apply(t,a)});Oe||(Oe=function(e){return e});ke||(ke=function(e){return e});di||(di=function(e,t){return Ta(e,We(t))});var Dv=Fe(Array.prototype.forEach),so=Fe(Array.prototype.pop),Sr=Fe(Array.prototype.push),Ea=Fe(String.prototype.toLowerCase),vn=Fe(String.prototype.toString),oo=Fe(String.prototype.match),He=Fe(String.prototype.replace),kv=Fe(String.prototype.indexOf),Fv=Fe(String.prototype.trim),ge=Fe(RegExp.prototype.test),cn=Vv(TypeError);function Fe(r){return function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return Pa(r,e,a)}}function Vv(r){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return di(r,t)}}function W(r,e,t){var a;t=(a=t)!==null&&a!==void 0?a:Ea,io&&io(r,null);for(var n=e.length;n--;){var i=e[n];if(typeof i=="string"){var o=t(i);o!==i&&(_v(e)||(e[n]=o),i=o)}r[i]=!0}return r}function Ft(r){var e=Lv(null),t;for(t in r)Pa(Nv,r,[t])===!0&&(e[t]=r[t]);return e}function Zr(r,e){for(;r!==null;){var t=Mv(r,e);if(t){if(t.get)return Fe(t.get);if(typeof t.value=="function")return Fe(t.value)}r=Iv(r)}function a(n){return console.warn("fallback value for",n),null}return a}var lo=Oe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gn=Oe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dn=Oe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Uv=Oe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pn=Oe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Bv=Oe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),uo=Oe(["#text"]),fo=Oe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),yn=Oe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ho=Oe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jr=Oe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jv=ke(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zv=ke(/<%[\w\W]*|[\w\W]*%>/gm),Hv=ke(/\${[\w\W]*}/gm),Gv=ke(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wv=ke(/^aria-[\-\w]+$/),Yv=ke(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xv=ke(/^(?:\w+script|data):/i),qv=ke(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qv=ke(/^html$/i),Kv=ke(/^[a-z][.\w]*(-[.\w]+)+$/i),Zv=function(){return typeof window>"u"?null:window},Jv=function(e,t){if(At(e)!=="object"||typeof e.createPolicy!="function")return null;var a=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(a=t.currentScript.getAttribute(n));var i="dompurify"+(a?"#"+a:"");try{return e.createPolicy(i,{createHTML:function(s){return s},createScriptURL:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Mu(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zv(),e=function(g){return Mu(g)};if(e.version="2.5.8",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,a=r.document,n=r.DocumentFragment,i=r.HTMLTemplateElement,o=r.Node,s=r.Element,l=r.NodeFilter,u=r.NamedNodeMap,f=u===void 0?r.NamedNodeMap||r.MozNamedAttrMap:u,h=r.HTMLFormElement,c=r.DOMParser,v=r.trustedTypes,d=s.prototype,p=Zr(d,"cloneNode"),y=Zr(d,"nextSibling"),m=Zr(d,"childNodes"),O=Zr(d,"parentNode");if(typeof i=="function"){var b=a.createElement("template");b.content&&b.content.ownerDocument&&(a=b.content.ownerDocument)}var T=Jv(v,t),_=T?T.createHTML(""):"",N=a,A=N.implementation,P=N.createNodeIterator,$=N.createDocumentFragment,V=N.getElementsByTagName,B=t.importNode,k={};try{k=Ft(a).documentMode?a.documentMode:{}}catch{}var H={};e.isSupported=typeof O=="function"&&A&&A.createHTMLDocument!==void 0&&k!==9;var X=jv,Y=zv,G=Hv,U=Gv,S=Wv,w=Xv,R=qv,L=Kv,j=Yv,F=null,Q=W({},[].concat(We(lo),We(gn),We(dn),We(pn),We(uo))),D=null,J=W({},[].concat(We(fo),We(yn),We(ho),We(Jr))),q=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Ue=null,Ie=!0,$e=!0,Me=!1,Pe=!0,fe=!1,Tt=!0,Je=!1,Zt=!1,Jt=!1,lt=!1,Be=!1,Le=!1,et=!0,tt=!1,pe="user-content-",Nt=!0,ut=!1,rt={},at=null,_t=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),It=null,Mt=W({},["audio","video","img","source","image","track"]),Et=null,br=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lt="http://www.w3.org/1998/Math/MathML",Ot="http://www.w3.org/2000/svg",Re="http://www.w3.org/1999/xhtml",nt=Re,Dt=!1,St=null,er=W({},[Lt,Ot,Re],vn),je,ye=["application/xhtml+xml","text/html"],ov="text/html",he,tr=null,lv=a.createElement("form"),Ws=function(g){return g instanceof RegExp||g instanceof Function},nn=function(g){tr&&tr===g||((!g||At(g)!=="object")&&(g={}),g=Ft(g),je=ye.indexOf(g.PARSER_MEDIA_TYPE)===-1?je=ov:je=g.PARSER_MEDIA_TYPE,he=je==="application/xhtml+xml"?vn:Ea,F="ALLOWED_TAGS"in g?W({},g.ALLOWED_TAGS,he):Q,D="ALLOWED_ATTR"in g?W({},g.ALLOWED_ATTR,he):J,St="ALLOWED_NAMESPACES"in g?W({},g.ALLOWED_NAMESPACES,vn):er,Et="ADD_URI_SAFE_ATTR"in g?W(Ft(br),g.ADD_URI_SAFE_ATTR,he):br,It="ADD_DATA_URI_TAGS"in g?W(Ft(Mt),g.ADD_DATA_URI_TAGS,he):Mt,at="FORBID_CONTENTS"in g?W({},g.FORBID_CONTENTS,he):_t,Ee="FORBID_TAGS"in g?W({},g.FORBID_TAGS,he):{},Ue="FORBID_ATTR"in g?W({},g.FORBID_ATTR,he):{},rt="USE_PROFILES"in g?g.USE_PROFILES:!1,Ie=g.ALLOW_ARIA_ATTR!==!1,$e=g.ALLOW_DATA_ATTR!==!1,Me=g.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=g.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=g.SAFE_FOR_TEMPLATES||!1,Tt=g.SAFE_FOR_XML!==!1,Je=g.WHOLE_DOCUMENT||!1,lt=g.RETURN_DOM||!1,Be=g.RETURN_DOM_FRAGMENT||!1,Le=g.RETURN_TRUSTED_TYPE||!1,Jt=g.FORCE_BODY||!1,et=g.SANITIZE_DOM!==!1,tt=g.SANITIZE_NAMED_PROPS||!1,Nt=g.KEEP_CONTENT!==!1,ut=g.IN_PLACE||!1,j=g.ALLOWED_URI_REGEXP||j,nt=g.NAMESPACE||Re,q=g.CUSTOM_ELEMENT_HANDLING||{},g.CUSTOM_ELEMENT_HANDLING&&Ws(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(q.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&Ws(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(q.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(q.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&($e=!1),Be&&(lt=!0),rt&&(F=W({},We(uo)),D=[],rt.html===!0&&(W(F,lo),W(D,fo)),rt.svg===!0&&(W(F,gn),W(D,yn),W(D,Jr)),rt.svgFilters===!0&&(W(F,dn),W(D,yn),W(D,Jr)),rt.mathMl===!0&&(W(F,pn),W(D,ho),W(D,Jr))),g.ADD_TAGS&&(F===Q&&(F=Ft(F)),W(F,g.ADD_TAGS,he)),g.ADD_ATTR&&(D===J&&(D=Ft(D)),W(D,g.ADD_ATTR,he)),g.ADD_URI_SAFE_ATTR&&W(Et,g.ADD_URI_SAFE_ATTR,he),g.FORBID_CONTENTS&&(at===_t&&(at=Ft(at)),W(at,g.FORBID_CONTENTS,he)),Nt&&(F["#text"]=!0),Je&&W(F,["html","head","body"]),F.table&&(W(F,["tbody"]),delete Ee.tbody),Oe&&Oe(g),tr=g)},Ys=W({},["mi","mo","mn","ms","mtext"]),Xs=W({},["annotation-xml"]),uv=W({},["title","style","font","a","script"]),Qr=W({},gn);W(Qr,dn),W(Qr,Uv);var sn=W({},pn);W(sn,Bv);var fv=function(g){var x=O(g);(!x||!x.tagName)&&(x={namespaceURI:nt,tagName:"template"});var C=Ea(g.tagName),K=Ea(x.tagName);return St[g.namespaceURI]?g.namespaceURI===Ot?x.namespaceURI===Re?C==="svg":x.namespaceURI===Lt?C==="svg"&&(K==="annotation-xml"||Ys[K]):!!Qr[C]:g.namespaceURI===Lt?x.namespaceURI===Re?C==="math":x.namespaceURI===Ot?C==="math"&&Xs[K]:!!sn[C]:g.namespaceURI===Re?x.namespaceURI===Ot&&!Xs[K]||x.namespaceURI===Lt&&!Ys[K]?!1:!sn[C]&&(uv[C]||!Qr[C]):!!(je==="application/xhtml+xml"&&St[g.namespaceURI]):!1},De=function(g){Sr(e.removed,{element:g});try{g.parentNode.removeChild(g)}catch{try{g.outerHTML=_}catch{g.remove()}}},Kr=function(g,x){try{Sr(e.removed,{attribute:x.getAttributeNode(g),from:x})}catch{Sr(e.removed,{attribute:null,from:x})}if(x.removeAttribute(g),g==="is"&&!D[g])if(lt||Be)try{De(x)}catch{}else try{x.setAttribute(g,"")}catch{}},qs=function(g){var x,C;if(Jt)g="<remove></remove>"+g;else{var K=oo(g,/^[\r\n\t ]+/);C=K&&K[0]}je==="application/xhtml+xml"&&nt===Re&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");var we=T?T.createHTML(g):g;if(nt===Re)try{x=new c().parseFromString(we,je)}catch{}if(!x||!x.documentElement){x=A.createDocument(nt,"template",null);try{x.documentElement.innerHTML=Dt?_:we}catch{}}var me=x.body||x.documentElement;return g&&C&&me.insertBefore(a.createTextNode(C),me.childNodes[0]||null),nt===Re?V.call(x,Je?"html":"body")[0]:Je?x.documentElement:me},Qs=function(g){return P.call(g.ownerDocument||g,g,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},on=function(g){return g instanceof h&&(typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof f)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},Tr=function(g){return At(o)==="object"?g instanceof o:g&&At(g)==="object"&&typeof g.nodeType=="number"&&typeof g.nodeName=="string"},ft=function(g,x,C){H[g]&&Dv(H[g],function(K){K.call(e,x,C,tr)})},Ks=function(g){var x;if(ft("beforeSanitizeElements",g,null),on(g)||ge(/[\u0080-\uFFFF]/,g.nodeName))return De(g),!0;var C=he(g.nodeName);if(ft("uponSanitizeElement",g,{tagName:C,allowedTags:F}),g.hasChildNodes()&&!Tr(g.firstElementChild)&&(!Tr(g.content)||!Tr(g.content.firstElementChild))&&ge(/<[/\w]/g,g.innerHTML)&&ge(/<[/\w]/g,g.textContent)||C==="select"&&ge(/<template/i,g.innerHTML)||g.nodeType===7||Tt&&g.nodeType===8&&ge(/<[/\w]/g,g.data))return De(g),!0;if(!F[C]||Ee[C]){if(!Ee[C]&&Js(C)&&(q.tagNameCheck instanceof RegExp&&ge(q.tagNameCheck,C)||q.tagNameCheck instanceof Function&&q.tagNameCheck(C)))return!1;if(Nt&&!at[C]){var K=O(g)||g.parentNode,we=m(g)||g.childNodes;if(we&&K)for(var me=we.length,ce=me-1;ce>=0;--ce){var kt=p(we[ce],!0);kt.__removalCount=(g.__removalCount||0)+1,K.insertBefore(kt,y(g))}}return De(g),!0}return g instanceof s&&!fv(g)||(C==="noscript"||C==="noembed"||C==="noframes")&&ge(/<\/no(script|embed|frames)/i,g.innerHTML)?(De(g),!0):(fe&&g.nodeType===3&&(x=g.textContent,x=He(x,X," "),x=He(x,Y," "),x=He(x,G," "),g.textContent!==x&&(Sr(e.removed,{element:g.cloneNode()}),g.textContent=x)),ft("afterSanitizeElements",g,null),!1)},Zs=function(g,x,C){if(et&&(x==="id"||x==="name")&&(C in a||C in lv))return!1;if(!($e&&!Ue[x]&&ge(U,x))){if(!(Ie&&ge(S,x))){if(!D[x]||Ue[x]){if(!(Js(g)&&(q.tagNameCheck instanceof RegExp&&ge(q.tagNameCheck,g)||q.tagNameCheck instanceof Function&&q.tagNameCheck(g))&&(q.attributeNameCheck instanceof RegExp&&ge(q.attributeNameCheck,x)||q.attributeNameCheck instanceof Function&&q.attributeNameCheck(x))||x==="is"&&q.allowCustomizedBuiltInElements&&(q.tagNameCheck instanceof RegExp&&ge(q.tagNameCheck,C)||q.tagNameCheck instanceof Function&&q.tagNameCheck(C))))return!1}else if(!Et[x]){if(!ge(j,He(C,R,""))){if(!((x==="src"||x==="xlink:href"||x==="href")&&g!=="script"&&kv(C,"data:")===0&&It[g])){if(!(Me&&!ge(w,He(C,R,"")))){if(C)return!1}}}}}}return!0},Js=function(g){return g!=="annotation-xml"&&oo(g,L)},eo=function(g){var x,C,K,we;ft("beforeSanitizeAttributes",g,null);var me=g.attributes;if(!(!me||on(g))){var ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D};for(we=me.length;we--;){x=me[we];var kt=x,ue=kt.name,ln=kt.namespaceURI;if(C=ue==="value"?x.value:Fv(x.value),K=he(ue),ce.attrName=K,ce.attrValue=C,ce.keepAttr=!0,ce.forceKeepAttr=void 0,ft("uponSanitizeAttribute",g,ce),C=ce.attrValue,!ce.forceKeepAttr&&(Kr(ue,g),!!ce.keepAttr)){if(!Pe&&ge(/\/>/i,C)){Kr(ue,g);continue}fe&&(C=He(C,X," "),C=He(C,Y," "),C=He(C,G," "));var to=he(g.nodeName);if(Zs(to,K,C)){if(tt&&(K==="id"||K==="name")&&(Kr(ue,g),C=pe+C),Tt&&ge(/((--!?|])>)|<\/(style|title)/i,C)){Kr(ue,g);continue}if(T&&At(v)==="object"&&typeof v.getAttributeType=="function"&&!ln)switch(v.getAttributeType(to,K)){case"TrustedHTML":{C=T.createHTML(C);break}case"TrustedScriptURL":{C=T.createScriptURL(C);break}}try{ln?g.setAttributeNS(ln,ue,C):g.setAttribute(ue,C),on(g)?De(g):so(e.removed)}catch{}}}}ft("afterSanitizeAttributes",g,null)}},hv=function I(g){var x,C=Qs(g);for(ft("beforeSanitizeShadowDOM",g,null);x=C.nextNode();)ft("uponSanitizeShadowNode",x,null),Ks(x),eo(x),x.content instanceof n&&I(x.content);ft("afterSanitizeShadowDOM",g,null)};return e.sanitize=function(I){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x,C,K,we,me;if(Dt=!I,Dt&&(I="<!-->"),typeof I!="string"&&!Tr(I))if(typeof I.toString=="function"){if(I=I.toString(),typeof I!="string")throw cn("dirty is not a string, aborting")}else throw cn("toString is not a function");if(!e.isSupported){if(At(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof I=="string")return r.toStaticHTML(I);if(Tr(I))return r.toStaticHTML(I.outerHTML)}return I}if(Zt||nn(g),e.removed=[],typeof I=="string"&&(ut=!1),ut){if(I.nodeName){var ce=he(I.nodeName);if(!F[ce]||Ee[ce])throw cn("root node is forbidden and cannot be sanitized in-place")}}else if(I instanceof o)x=qs("<!---->"),C=x.ownerDocument.importNode(I,!0),C.nodeType===1&&C.nodeName==="BODY"||C.nodeName==="HTML"?x=C:x.appendChild(C);else{if(!lt&&!fe&&!Je&&I.indexOf("<")===-1)return T&&Le?T.createHTML(I):I;if(x=qs(I),!x)return lt?null:Le?_:""}x&&Jt&&De(x.firstChild);for(var kt=Qs(ut?I:x);K=kt.nextNode();)K.nodeType===3&&K===we||(Ks(K),eo(K),K.content instanceof n&&hv(K.content),we=K);if(we=null,ut)return I;if(lt){if(Be)for(me=$.call(x.ownerDocument);x.firstChild;)me.appendChild(x.firstChild);else me=x;return(D.shadowroot||D.shadowrootmod)&&(me=B.call(t,me,!0)),me}var ue=Je?x.outerHTML:x.innerHTML;return Je&&F["!doctype"]&&x.ownerDocument&&x.ownerDocument.doctype&&x.ownerDocument.doctype.name&&ge(Qv,x.ownerDocument.doctype.name)&&(ue="<!DOCTYPE "+x.ownerDocument.doctype.name+`>
`+ue),fe&&(ue=He(ue,X," "),ue=He(ue,Y," "),ue=He(ue,G," ")),T&&Le?T.createHTML(ue):ue},e.setConfig=function(I){nn(I),Zt=!0},e.clearConfig=function(){tr=null,Zt=!1},e.isValidAttribute=function(I,g,x){tr||nn({});var C=he(I),K=he(g);return Zs(C,K,x)},e.addHook=function(I,g){typeof g=="function"&&(H[I]=H[I]||[],Sr(H[I],g))},e.removeHook=function(I){if(H[I])return so(H[I])},e.removeHooks=function(I){H[I]&&(H[I]=[])},e.removeAllHooks=function(){H={}},e}var ec=Mu();const lO=Object.freeze(Object.defineProperty({__proto__:null,default:ec},Symbol.toStringTag,{value:"Module"}));var xr=function(r){return r&&r.Math===Math&&r},re=xr(typeof globalThis=="object"&&globalThis)||xr(typeof window=="object"&&window)||xr(typeof self=="object"&&self)||xr(typeof sr=="object"&&sr)||xr(typeof sr=="object"&&sr)||function(){return this}()||Function("return this")(),Vr={},ne=function(r){try{return!!r()}catch{return!0}},tc=ne,Qe=!tc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rc=ne,Va=!rc(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),ac=Va,ea=Function.prototype.call,de=ac?ea.bind(ea):function(){return ea.apply(ea,arguments)},Lu={},Du={}.propertyIsEnumerable,ku=Object.getOwnPropertyDescriptor,nc=ku&&!Du.call({1:2},1);Lu.f=nc?function(e){var t=ku(this,e);return!!t&&t.enumerable}:Du;var ts=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}},Fu=Va,Vu=Function.prototype,pi=Vu.call,ic=Fu&&Vu.bind.bind(pi,pi),ie=Fu?ic:function(r){return function(){return pi.apply(r,arguments)}},Uu=ie,sc=Uu({}.toString),oc=Uu("".slice),Xt=function(r){return oc(sc(r),8,-1)},lc=ie,uc=ne,fc=Xt,mn=Object,hc=lc("".split),Bu=uc(function(){return!mn("z").propertyIsEnumerable(0)})?function(r){return fc(r)==="String"?hc(r,""):mn(r)}:mn,Ua=function(r){return r==null},vc=Ua,cc=TypeError,Ke=function(r){if(vc(r))throw new cc("Can't call method on "+r);return r},gc=Bu,dc=Ke,Ur=function(r){return gc(dc(r))},bn=typeof document=="object"&&document.all,se=typeof bn>"u"&&bn!==void 0?function(r){return typeof r=="function"||r===bn}:function(r){return typeof r=="function"},pc=se,Ce=function(r){return typeof r=="object"?r!==null:pc(r)},Tn=re,yc=se,mc=function(r){return yc(r)?r:void 0},qt=function(r,e){return arguments.length<2?mc(Tn[r]):Tn[r]&&Tn[r][e]},bc=ie,Ba=bc({}.isPrototypeOf),Tc=re,vo=Tc.navigator,co=vo&&vo.userAgent,Br=co?String(co):"",ju=re,En=Br,go=ju.process,po=ju.Deno,yo=go&&go.versions||po&&po.version,mo=yo&&yo.v8,qe,Ra;mo&&(qe=mo.split("."),Ra=qe[0]>0&&qe[0]<4?1:+(qe[0]+qe[1]));!Ra&&En&&(qe=En.match(/Edge\/(\d+)/),(!qe||qe[1]>=74)&&(qe=En.match(/Chrome\/(\d+)/),qe&&(Ra=+qe[1])));var rs=Ra,bo=rs,Ec=ne,Oc=re,Sc=Oc.String,zu=!!Object.getOwnPropertySymbols&&!Ec(function(){var r=Symbol("symbol detection");return!Sc(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&bo&&bo<41}),xc=zu,Hu=xc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",wc=qt,Ac=se,Cc=Ba,$c=Hu,Pc=Object,Gu=$c?function(r){return typeof r=="symbol"}:function(r){var e=wc("Symbol");return Ac(e)&&Cc(e.prototype,Pc(r))},Rc=String,ja=function(r){try{return Rc(r)}catch{return"Object"}},Nc=se,_c=ja,Ic=TypeError,mt=function(r){if(Nc(r))return r;throw new Ic(_c(r)+" is not a function")},Mc=mt,Lc=Ua,dr=function(r,e){var t=r[e];return Lc(t)?void 0:Mc(t)},On=de,Sn=se,xn=Ce,Dc=TypeError,kc=function(r,e){var t,a;if(e==="string"&&Sn(t=r.toString)&&!xn(a=On(t,r))||Sn(t=r.valueOf)&&!xn(a=On(t,r))||e!=="string"&&Sn(t=r.toString)&&!xn(a=On(t,r)))return a;throw new Dc("Can't convert object to primitive value")},Wu={exports:{}},To=re,Fc=Object.defineProperty,as=function(r,e){try{Fc(To,r,{value:e,configurable:!0,writable:!0})}catch{To[r]=e}return e},Vc=re,Uc=as,Eo="__core-js_shared__",Oo=Wu.exports=Vc[Eo]||Uc(Eo,{});(Oo.versions||(Oo.versions=[])).push({version:"3.48.0",mode:"global",copyright:"© 2013–2025 Denis Pushkarev (zloirock.ru), 2025–2026 CoreJS Company (core-js.io). All rights reserved.",license:"https://github.com/zloirock/core-js/blob/v3.48.0/LICENSE",source:"https://github.com/zloirock/core-js"});var ns=Wu.exports,So=ns,is=function(r,e){return So[r]||(So[r]=e||{})},Bc=Ke,jc=Object,za=function(r){return jc(Bc(r))},zc=ie,Hc=za,Gc=zc({}.hasOwnProperty),Ze=Object.hasOwn||function(e,t){return Gc(Hc(e),t)},Wc=ie,Yc=0,Xc=Math.random(),qc=Wc(1.1.toString),Yu=function(r){return"Symbol("+(r===void 0?"":r)+")_"+qc(++Yc+Xc,36)},Qc=re,Kc=is,xo=Ze,Zc=Yu,Jc=zu,eg=Hu,or=Qc.Symbol,wn=Kc("wks"),tg=eg?or.for||or:or&&or.withoutSetter||Zc,ve=function(r){return xo(wn,r)||(wn[r]=Jc&&xo(or,r)?or[r]:tg("Symbol."+r)),wn[r]},rg=de,wo=Ce,Ao=Gu,ag=dr,ng=kc,ig=ve,sg=TypeError,og=ig("toPrimitive"),lg=function(r,e){if(!wo(r)||Ao(r))return r;var t=ag(r,og),a;if(t){if(e===void 0&&(e="default"),a=rg(t,r,e),!wo(a)||Ao(a))return a;throw new sg("Can't convert object to primitive value")}return e===void 0&&(e="number"),ng(r,e)},ug=lg,fg=Gu,Xu=function(r){var e=ug(r,"string");return fg(e)?e:e+""},hg=re,Co=Ce,yi=hg.document,vg=Co(yi)&&Co(yi.createElement),Ha=function(r){return vg?yi.createElement(r):{}},cg=Qe,gg=ne,dg=Ha,qu=!cg&&!gg(function(){return Object.defineProperty(dg("div"),"a",{get:function(){return 7}}).a!==7}),pg=Qe,yg=de,mg=Lu,bg=ts,Tg=Ur,Eg=Xu,Og=Ze,Sg=qu,$o=Object.getOwnPropertyDescriptor;Vr.f=pg?$o:function(e,t){if(e=Tg(e),t=Eg(t),Sg)try{return $o(e,t)}catch{}if(Og(e,t))return bg(!yg(mg.f,e,t),e[t])};var bt={},xg=Qe,wg=ne,Qu=xg&&wg(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ag=Ce,Cg=String,$g=TypeError,Se=function(r){if(Ag(r))return r;throw new $g(Cg(r)+" is not an object")},Pg=Qe,Rg=qu,Ng=Qu,ta=Se,Po=Xu,_g=TypeError,An=Object.defineProperty,Ig=Object.getOwnPropertyDescriptor,Cn="enumerable",$n="configurable",Pn="writable";bt.f=Pg?Ng?function(e,t,a){if(ta(e),t=Po(t),ta(a),typeof e=="function"&&t==="prototype"&&"value"in a&&Pn in a&&!a[Pn]){var n=Ig(e,t);n&&n[Pn]&&(e[t]=a.value,a={configurable:$n in a?a[$n]:n[$n],enumerable:Cn in a?a[Cn]:n[Cn],writable:!1})}return An(e,t,a)}:An:function(e,t,a){if(ta(e),t=Po(t),ta(a),Rg)try{return An(e,t,a)}catch{}if("get"in a||"set"in a)throw new _g("Accessors not supported");return"value"in a&&(e[t]=a.value),e};var Mg=Qe,Lg=bt,Dg=ts,jr=Mg?function(r,e,t){return Lg.f(r,e,Dg(1,t))}:function(r,e,t){return r[e]=t,r},Ku={exports:{}},mi=Qe,kg=Ze,Zu=Function.prototype,Fg=mi&&Object.getOwnPropertyDescriptor,Ju=kg(Zu,"name"),Vg=Ju&&(function(){}).name==="something",Ug=Ju&&(!mi||mi&&Fg(Zu,"name").configurable),Ga={PROPER:Vg,CONFIGURABLE:Ug},Bg=ie,jg=se,bi=ns,zg=Bg(Function.toString);jg(bi.inspectSource)||(bi.inspectSource=function(r){return zg(r)});var ss=bi.inspectSource,Hg=re,Gg=se,Ro=Hg.WeakMap,Wg=Gg(Ro)&&/native code/.test(String(Ro)),Yg=is,Xg=Yu,No=Yg("keys"),os=function(r){return No[r]||(No[r]=Xg(r))},ls={},qg=Wg,ef=re,Qg=Ce,Kg=jr,Rn=Ze,Nn=ns,Zg=os,Jg=ls,_o="Object already initialized",Ti=ef.TypeError,ed=ef.WeakMap,Na,Dr,_a,td=function(r){return _a(r)?Dr(r):Na(r,{})},rd=function(r){return function(e){var t;if(!Qg(e)||(t=Dr(e)).type!==r)throw new Ti("Incompatible receiver, "+r+" required");return t}};if(qg||Nn.state){var it=Nn.state||(Nn.state=new ed);it.get=it.get,it.has=it.has,it.set=it.set,Na=function(r,e){if(it.has(r))throw new Ti(_o);return e.facade=r,it.set(r,e),e},Dr=function(r){return it.get(r)||{}},_a=function(r){return it.has(r)}}else{var rr=Zg("state");Jg[rr]=!0,Na=function(r,e){if(Rn(r,rr))throw new Ti(_o);return e.facade=r,Kg(r,rr,e),e},Dr=function(r){return Rn(r,rr)?r[rr]:{}},_a=function(r){return Rn(r,rr)}}var Wa={set:Na,get:Dr,has:_a,enforce:td,getterFor:rd},us=ie,ad=ne,nd=se,ra=Ze,Ei=Qe,id=Ga.CONFIGURABLE,sd=ss,tf=Wa,od=tf.enforce,ld=tf.get,Io=String,Oa=Object.defineProperty,ud=us("".slice),fd=us("".replace),hd=us([].join),vd=Ei&&!ad(function(){return Oa(function(){},"length",{value:8}).length!==8}),cd=String(String).split("String"),gd=Ku.exports=function(r,e,t){ud(Io(e),0,7)==="Symbol("&&(e="["+fd(Io(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!ra(r,"name")||id&&r.name!==e)&&(Ei?Oa(r,"name",{value:e,configurable:!0}):r.name=e),vd&&t&&ra(t,"arity")&&r.length!==t.arity&&Oa(r,"length",{value:t.arity});try{t&&ra(t,"constructor")&&t.constructor?Ei&&Oa(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}var a=od(r);return ra(a,"source")||(a.source=hd(cd,typeof e=="string"?e:"")),r};Function.prototype.toString=gd(function(){return nd(this)&&ld(this).source||sd(this)},"toString");var rf=Ku.exports,dd=se,pd=bt,yd=rf,md=as,Qt=function(r,e,t,a){a||(a={});var n=a.enumerable,i=a.name!==void 0?a.name:e;if(dd(t)&&yd(t,i,a),a.global)n?r[e]=t:md(e,t);else{try{a.unsafe?r[e]&&(n=!0):delete r[e]}catch{}n?r[e]=t:pd.f(r,e,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return r},af={},bd=Math.ceil,Td=Math.floor,Ed=Math.trunc||function(e){var t=+e;return(t>0?Td:bd)(t)},Od=Ed,Ya=function(r){var e=+r;return e!==e||e===0?0:Od(e)},Sd=Ya,xd=Math.max,wd=Math.min,Ad=function(r,e){var t=Sd(r);return t<0?xd(t+e,0):wd(t,e)},Cd=Ya,$d=Math.min,pr=function(r){var e=Cd(r);return e>0?$d(e,9007199254740991):0},Pd=pr,fs=function(r){return Pd(r.length)},Rd=Ur,Nd=Ad,_d=fs,Id=function(r){return function(e,t,a){var n=Rd(e),i=_d(n);if(i===0)return!r&&-1;var o=Nd(a,i),s;if(r&&t!==t){for(;i>o;)if(s=n[o++],s!==s)return!0}else for(;i>o;o++)if((r||o in n)&&n[o]===t)return r||o||0;return!r&&-1}},nf={indexOf:Id(!1)},Md=ie,_n=Ze,Ld=Ur,Dd=nf.indexOf,kd=ls,Mo=Md([].push),sf=function(r,e){var t=Ld(r),a=0,n=[],i;for(i in t)!_n(kd,i)&&_n(t,i)&&Mo(n,i);for(;e.length>a;)_n(t,i=e[a++])&&(~Dd(n,i)||Mo(n,i));return n},hs=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fd=sf,Vd=hs,Ud=Vd.concat("length","prototype");af.f=Object.getOwnPropertyNames||function(e){return Fd(e,Ud)};var of={};of.f=Object.getOwnPropertySymbols;var Bd=qt,jd=ie,zd=af,Hd=of,Gd=Se,Wd=jd([].concat),Yd=Bd("Reflect","ownKeys")||function(e){var t=zd.f(Gd(e)),a=Hd.f;return a?Wd(t,a(e)):t},Lo=Ze,Xd=Yd,qd=Vr,Qd=bt,Kd=function(r,e,t){for(var a=Xd(e),n=Qd.f,i=qd.f,o=0;o<a.length;o++){var s=a[o];!Lo(r,s)&&!(t&&Lo(t,s))&&n(r,s,i(e,s))}},Zd=ne,Jd=se,ep=/#|\.prototype\./,zr=function(r,e){var t=rp[tp(r)];return t===np?!0:t===ap?!1:Jd(e)?Zd(e):!!e},tp=zr.normalize=function(r){return String(r).replace(ep,".").toLowerCase()},rp=zr.data={},ap=zr.NATIVE="N",np=zr.POLYFILL="P",lf=zr,aa=re,ip=Vr.f,sp=jr,op=Qt,lp=as,up=Kd,fp=lf,xe=function(r,e){var t=r.target,a=r.global,n=r.stat,i,o,s,l,u,f;if(a?o=aa:n?o=aa[t]||lp(t,{}):o=aa[t]&&aa[t].prototype,o)for(s in e){if(u=e[s],r.dontCallGetSet?(f=ip(o,s),l=f&&f.value):l=o[s],i=fp(a?s:t+(n?".":"#")+s,r.forced),!i&&l!==void 0){if(typeof u==typeof l)continue;up(u,l)}(r.sham||l&&l.sham)&&sp(u,"sham",!0),op(o,s,u,r)}},wr=re,hp=Br,vp=Xt,na=function(r){return hp.slice(0,r.length)===r},uf=function(){return na("Bun/")?"BUN":na("Cloudflare-Workers")?"CLOUDFLARE":na("Deno/")?"DENO":na("Node.js/")?"NODE":wr.Bun&&typeof Bun.version=="string"?"BUN":wr.Deno&&typeof Deno.version=="object"?"DENO":vp(wr.process)==="process"?"NODE":wr.window&&wr.document?"BROWSER":"REST"}(),cp=uf,Xa=cp==="NODE",gp=re,dp=gp,pp=ie,yp=mt,mp=function(r,e,t){try{return pp(yp(Object.getOwnPropertyDescriptor(r,e)[t]))}catch{}},bp=Ce,Tp=function(r){return bp(r)||r===null},Ep=Tp,Op=String,Sp=TypeError,xp=function(r){if(Ep(r))return r;throw new Sp("Can't set "+Op(r)+" as a prototype")},wp=mp,Ap=Ce,Cp=Ke,$p=xp,ff=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=wp(Object.prototype,"__proto__","set"),t(e,[]),r=e instanceof Array}catch{}return function(n,i){return Cp(n),$p(i),Ap(n)&&(r?t(n,i):n.__proto__=i),n}}():void 0),Pp=bt.f,Rp=Ze,Np=ve,Do=Np("toStringTag"),qa=function(r,e,t){r&&!t&&(r=r.prototype),r&&!Rp(r,Do)&&Pp(r,Do,{configurable:!0,value:e})},ko=rf,_p=bt,Ip=function(r,e,t){return t.get&&ko(t.get,e,{getter:!0}),t.set&&ko(t.set,e,{setter:!0}),_p.f(r,e,t)},Mp=qt,Lp=Ip,Dp=ve,kp=Qe,Fo=Dp("species"),Fp=function(r){var e=Mp(r);kp&&e&&!e[Fo]&&Lp(e,Fo,{configurable:!0,get:function(){return this}})},Vp=Ba,Up=TypeError,Bp=function(r,e){if(Vp(e,r))return r;throw new Up("Incorrect invocation")},jp=ve,zp=jp("toStringTag"),hf={};hf[zp]="z";var Hp=String(hf)==="[object z]",Gp=Hp,Wp=se,Sa=Xt,Yp=ve,Xp=Yp("toStringTag"),qp=Object,Qp=Sa(function(){return arguments}())==="Arguments",Kp=function(r,e){try{return r[e]}catch{}},vs=Gp?Sa:function(r){var e,t,a;return r===void 0?"Undefined":r===null?"Null":typeof(t=Kp(e=qp(r),Xp))=="string"?t:Qp?Sa(e):(a=Sa(e))==="Object"&&Wp(e.callee)?"Arguments":a},Zp=ie,Jp=ne,vf=se,ey=vs,ty=qt,ry=ss,cf=function(){},gf=ty("Reflect","construct"),cs=/^\s*(?:class|function)\b/,ay=Zp(cs.exec),ny=!cs.test(cf),Ar=function(e){if(!vf(e))return!1;try{return gf(cf,[],e),!0}catch{return!1}},df=function(e){if(!vf(e))return!1;switch(ey(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ny||!!ay(cs,ry(e))}catch{return!0}};df.sham=!0;var iy=!gf||Jp(function(){var r;return Ar(Ar.call)||!Ar(Object)||!Ar(function(){r=!0})||r})?df:Ar,sy=iy,oy=ja,ly=TypeError,uy=function(r){if(sy(r))return r;throw new ly(oy(r)+" is not a constructor")},Vo=Se,fy=uy,hy=Ua,vy=ve,cy=vy("species"),pf=function(r,e){var t=Vo(r).constructor,a;return t===void 0||hy(a=Vo(t)[cy])?e:fy(a)},gy=Va,yf=Function.prototype,Uo=yf.apply,Bo=yf.call,mf=typeof Reflect=="object"&&Reflect.apply||(gy?Bo.bind(Uo):function(){return Bo.apply(Uo,arguments)}),dy=Xt,py=ie,Qa=function(r){if(dy(r)==="Function")return py(r)},jo=Qa,yy=mt,my=Va,by=jo(jo.bind),gs=function(r,e){return yy(r),e===void 0?r:my?by(r,e):function(){return r.apply(e,arguments)}},Ty=qt,bf=Ty("document","documentElement"),Ey=ie,Oy=Ey([].slice),Sy=TypeError,xy=function(r,e){if(r<e)throw new Sy("Not enough arguments");return r},wy=Br,Tf=/(?:ipad|iphone|ipod).*applewebkit/i.test(wy),_e=re,Ay=mf,Cy=gs,zo=se,$y=Ze,Ef=ne,Ho=bf,Py=Oy,Go=Ha,Ry=xy,Ny=Tf,_y=Xa,Oi=_e.setImmediate,Wo=_e.clearImmediate,Iy=_e.process,In=_e.Dispatch,My=_e.Function,Yo=_e.MessageChannel,Ly=_e.String,Mn=0,_r={},Xo="onreadystatechange",kr,Vt,Ln,Dn;Ef(function(){kr=_e.location});var ds=function(r){if($y(_r,r)){var e=_r[r];delete _r[r],e()}},kn=function(r){return function(){ds(r)}},qo=function(r){ds(r.data)},Qo=function(r){_e.postMessage(Ly(r),kr.protocol+"//"+kr.host)};(!Oi||!Wo)&&(Oi=function(e){Ry(arguments.length,1);var t=zo(e)?e:My(e),a=Py(arguments,1);return _r[++Mn]=function(){Ay(t,void 0,a)},Vt(Mn),Mn},Wo=function(e){delete _r[e]},_y?Vt=function(r){Iy.nextTick(kn(r))}:In&&In.now?Vt=function(r){In.now(kn(r))}:Yo&&!Ny?(Ln=new Yo,Dn=Ln.port2,Ln.port1.onmessage=qo,Vt=Cy(Dn.postMessage,Dn)):_e.addEventListener&&zo(_e.postMessage)&&!_e.importScripts&&kr&&kr.protocol!=="file:"&&!Ef(Qo)?(Vt=Qo,_e.addEventListener("message",qo,!1)):Xo in Go("script")?Vt=function(r){Ho.appendChild(Go("script"))[Xo]=function(){Ho.removeChild(this),ds(r)}}:Vt=function(r){setTimeout(kn(r),0)});var Of={set:Oi},Ko=re,Dy=Qe,ky=Object.getOwnPropertyDescriptor,Fy=function(r){if(!Dy)return Ko[r];var e=ky(Ko,r);return e&&e.value},Sf=function(){this.head=null,this.tail=null};Sf.prototype={add:function(r){var e={item:r,next:null},t=this.tail;t?t.next=e:this.head=e,this.tail=e},get:function(){var r=this.head;if(r){var e=this.head=r.next;return e===null&&(this.tail=null),r.item}}};var xf=Sf,Vy=Br,Uy=/ipad|iphone|ipod/i.test(Vy)&&typeof Pebble<"u",By=Br,jy=/web0s(?!.*chrome)/i.test(By),vr=re,zy=Fy,Zo=gs,Fn=Of.set,Hy=xf,Gy=Tf,Wy=Uy,Yy=jy,Vn=Xa,Jo=vr.MutationObserver||vr.WebKitMutationObserver,el=vr.document,tl=vr.process,ia=vr.Promise,Si=zy("queueMicrotask"),ar,Un,Bn,sa,rl;if(!Si){var oa=new Hy,la=function(){var r,e;for(Vn&&(r=tl.domain)&&r.exit();e=oa.get();)try{e()}catch(t){throw oa.head&&ar(),t}r&&r.enter()};!Gy&&!Vn&&!Yy&&Jo&&el?(Un=!0,Bn=el.createTextNode(""),new Jo(la).observe(Bn,{characterData:!0}),ar=function(){Bn.data=Un=!Un}):!Wy&&ia&&ia.resolve?(sa=ia.resolve(void 0),sa.constructor=ia,rl=Zo(sa.then,sa),ar=function(){rl(la)}):Vn?ar=function(){tl.nextTick(la)}:(Fn=Zo(Fn,vr),ar=function(){Fn(la)}),Si=function(r){oa.head||ar(),oa.add(r)}}var Xy=Si,qy=function(r,e){try{arguments.length===1?console.error(r):console.error(r,e)}catch{}},ps=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}},Qy=re,Ka=Qy.Promise,Ky=re,Ir=Ka,Zy=se,Jy=lf,em=ss,tm=ve,al=uf,jn=rs;Ir&&Ir.prototype;var rm=tm("species"),xi=!1,wf=Zy(Ky.PromiseRejectionEvent),am=Jy("Promise",function(){var r=em(Ir),e=r!==String(Ir);if(!e&&jn===66)return!0;if(!jn||jn<51||!/native code/.test(r)){var t=new Ir(function(i){i(1)}),a=function(i){i(function(){},function(){})},n=t.constructor={};if(n[rm]=a,xi=t.then(function(){})instanceof a,!xi)return!0}return!e&&(al==="BROWSER"||al==="DENO")&&!wf}),Hr={CONSTRUCTOR:am,REJECTION_EVENT:wf,SUBCLASSING:xi},yr={},nl=mt,nm=TypeError,im=function(r){var e,t;this.promise=new r(function(a,n){if(e!==void 0||t!==void 0)throw new nm("Bad Promise constructor");e=a,t=n}),this.resolve=nl(e),this.reject=nl(t)};yr.f=function(r){return new im(r)};var sm=xe,Ia=Xa,$t=re,om=dp,cr=de,il=Qt,sl=ff,lm=qa,um=Fp,fm=mt,xa=se,hm=Ce,vm=Bp,cm=pf,Af=Of.set,ys=Xy,gm=qy,dm=ps,pm=xf,Cf=Wa,Ma=Ka,ms=Hr,$f=yr,Za="Promise",Pf=ms.CONSTRUCTOR,ym=ms.REJECTION_EVENT,mm=ms.SUBCLASSING,zn=Cf.getterFor(Za),bm=Cf.set,ir=Ma&&Ma.prototype,Ht=Ma,ua=ir,Rf=$t.TypeError,wi=$t.document,bs=$t.process,Ai=$f.f,Tm=Ai,Em=!!(wi&&wi.createEvent&&$t.dispatchEvent),Nf="unhandledrejection",Om="rejectionhandled",ol=0,_f=1,Sm=2,Ts=1,If=2,fa,ll,Mf,ul,Lf=function(r){var e;return hm(r)&&xa(e=r.then)?e:!1},Df=function(r,e){var t=e.value,a=e.state===_f,n=a?r.ok:r.fail,i=r.resolve,o=r.reject,s=r.domain,l,u,f;try{n?(a||(e.rejection===If&&wm(e),e.rejection=Ts),n===!0?l=t:(s&&s.enter(),l=n(t),s&&(s.exit(),f=!0)),l===r.promise?o(new Rf("Promise-chain cycle")):(u=Lf(l))?cr(u,l,i,o):i(l)):o(t)}catch(h){s&&!f&&s.exit(),o(h)}},kf=function(r,e){r.notified||(r.notified=!0,ys(function(){for(var t=r.reactions,a;a=t.get();)Df(a,r);r.notified=!1,e&&!r.rejection&&xm(r)}))},Ff=function(r,e,t){var a,n;Em?(a=wi.createEvent("Event"),a.promise=e,a.reason=t,a.initEvent(r,!1,!0),$t.dispatchEvent(a)):a={promise:e,reason:t},!ym&&(n=$t["on"+r])?n(a):r===Nf&&gm("Unhandled promise rejection",t)},xm=function(r){cr(Af,$t,function(){var e=r.facade,t=r.value,a=fl(r),n;if(a&&(n=dm(function(){Ia?bs.emit("unhandledRejection",t,e):Ff(Nf,e,t)}),r.rejection=Ia||fl(r)?If:Ts,n.error))throw n.value})},fl=function(r){return r.rejection!==Ts&&!r.parent},wm=function(r){cr(Af,$t,function(){var e=r.facade;Ia?bs.emit("rejectionHandled",e):Ff(Om,e,r.value)})},lr=function(r,e,t){return function(a){r(e,a,t)}},fr=function(r,e,t){r.done||(r.done=!0,t&&(r=t),r.value=e,r.state=Sm,kf(r,!0))},Ci=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw new Rf("Promise can't be resolved itself");var a=Lf(e);a?ys(function(){var n={done:!1};try{cr(a,e,lr(Ci,n,r),lr(fr,n,r))}catch(i){fr(n,i,r)}}):(r.value=e,r.state=_f,kf(r,!1))}catch(n){fr({done:!1},n,r)}}};if(Pf&&(Ht=function(e){vm(this,ua),fm(e),cr(fa,this);var t=zn(this);try{e(lr(Ci,t),lr(fr,t))}catch(a){fr(t,a)}},ua=Ht.prototype,fa=function(e){bm(this,{type:Za,done:!1,notified:!1,parent:!1,reactions:new pm,rejection:!1,state:ol,value:null})},fa.prototype=il(ua,"then",function(e,t){var a=zn(this),n=Ai(cm(this,Ht));return a.parent=!0,n.ok=xa(e)?e:!0,n.fail=xa(t)&&t,n.domain=Ia?bs.domain:void 0,a.state===ol?a.reactions.add(n):ys(function(){Df(n,a)}),n.promise}),ll=function(){var r=new fa,e=zn(r);this.promise=r,this.resolve=lr(Ci,e),this.reject=lr(fr,e)},$f.f=Ai=function(r){return r===Ht||r===Mf?new ll(r):Tm(r)},xa(Ma)&&ir!==Object.prototype)){ul=ir.then,mm||il(ir,"then",function(e,t){var a=this;return new Ht(function(n,i){cr(ul,a,n,i)}).then(e,t)},{unsafe:!0});try{delete ir.constructor}catch{}sl&&sl(ir,ua)}sm({global:!0,constructor:!0,wrap:!0,forced:Pf},{Promise:Ht});Mf=om.Promise;lm(Ht,Za,!1);um(Za);var Gr={},Am=ve,Cm=Gr,$m=Am("iterator"),Pm=Array.prototype,Rm=function(r){return r!==void 0&&(Cm.Array===r||Pm[$m]===r)},Nm=vs,hl=dr,_m=Ua,Im=Gr,Mm=ve,Lm=Mm("iterator"),Vf=function(r){if(!_m(r))return hl(r,Lm)||hl(r,"@@iterator")||Im[Nm(r)]},Dm=de,km=mt,Fm=Se,Vm=ja,Um=Vf,Bm=TypeError,jm=function(r,e){var t=arguments.length<2?Um(r):e;if(km(t))return Fm(Dm(t,r));throw new Bm(Vm(r)+" is not iterable")},zm=de,vl=Se,Hm=dr,Gm=function(r,e,t){var a,n;vl(r);try{if(a=Hm(r,"return"),!a){if(e==="throw")throw t;return t}a=zm(a,r)}catch(i){n=!0,a=i}if(e==="throw")throw t;if(n)throw a;return vl(a),t},Wm=gs,Ym=de,Xm=Se,qm=ja,Qm=Rm,Km=fs,cl=Ba,Zm=jm,Jm=Vf,gl=Gm,e0=TypeError,wa=function(r,e){this.stopped=r,this.result=e},dl=wa.prototype,Uf=function(r,e,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),i=!!(t&&t.IS_RECORD),o=!!(t&&t.IS_ITERATOR),s=!!(t&&t.INTERRUPTED),l=Wm(e,a),u,f,h,c,v,d,p,y=function(O){return u&&gl(u,"normal"),new wa(!0,O)},m=function(O){return n?(Xm(O),s?l(O[0],O[1],y):l(O[0],O[1])):s?l(O,y):l(O)};if(i)u=r.iterator;else if(o)u=r;else{if(f=Jm(r),!f)throw new e0(qm(r)+" is not iterable");if(Qm(f)){for(h=0,c=Km(r);c>h;h++)if(v=m(r[h]),v&&cl(dl,v))return v;return new wa(!1)}u=Zm(r,f)}for(d=i?r.next:u.next;!(p=Ym(d,u)).done;){try{v=m(p.value)}catch(O){gl(u,"throw",O)}if(typeof v=="object"&&v&&cl(dl,v))return v}return new wa(!1)},t0=ve,Bf=t0("iterator"),jf=!1;try{var r0=0,pl={next:function(){return{done:!!r0++}},return:function(){jf=!0}};pl[Bf]=function(){return this},Array.from(pl,function(){throw 2})}catch{}var a0=function(r,e){try{if(!e&&!jf)return!1}catch{return!1}var t=!1;try{var a={};a[Bf]=function(){return{next:function(){return{done:t=!0}}}},r(a)}catch{}return t},n0=Ka,i0=a0,s0=Hr.CONSTRUCTOR,zf=s0||!i0(function(r){n0.all(r).then(void 0,function(){})}),o0=xe,l0=de,u0=mt,f0=yr,h0=ps,v0=Uf,c0=zf;o0({target:"Promise",stat:!0,forced:c0},{all:function(e){var t=this,a=f0.f(t),n=a.resolve,i=a.reject,o=h0(function(){var s=u0(t.resolve),l=[],u=0,f=1;v0(e,function(h){var c=u++,v=!1;f++,l0(s,t,h).then(function(d){v||(v=!0,l[c]=d,--f||n(l))},i)}),--f||n(l)});return o.error&&i(o.value),a.promise}});var g0=xe,d0=Hr.CONSTRUCTOR,$i=Ka,p0=qt,y0=se,m0=Qt,yl=$i&&$i.prototype;g0({target:"Promise",proto:!0,forced:d0,real:!0},{catch:function(r){return this.then(void 0,r)}});if(y0($i)){var ml=p0("Promise").prototype.catch;yl.catch!==ml&&m0(yl,"catch",ml,{unsafe:!0})}var b0=xe,T0=de,E0=mt,O0=yr,S0=ps,x0=Uf,w0=zf;b0({target:"Promise",stat:!0,forced:w0},{race:function(e){var t=this,a=O0.f(t),n=a.reject,i=S0(function(){var o=E0(t.resolve);x0(e,function(s){T0(o,t,s).then(a.resolve,n)})});return i.error&&n(i.value),a.promise}});var A0=xe,C0=yr,$0=Hr.CONSTRUCTOR;A0({target:"Promise",stat:!0,forced:$0},{reject:function(e){var t=C0.f(this),a=t.reject;return a(e),t.promise}});var P0=Se,R0=Ce,N0=yr,_0=function(r,e){if(P0(r),R0(e)&&e.constructor===r)return e;var t=N0.f(r),a=t.resolve;return a(e),t.promise},I0=xe,M0=qt,L0=Hr.CONSTRUCTOR,D0=_0;M0("Promise");I0({target:"Promise",stat:!0,forced:L0},{resolve:function(e){return D0(this,e)}});function bl(r,e,t,a,n,i,o){try{var s=r[i](o),l=s.value}catch(u){return void t(u)}s.done?e(l):Promise.resolve(l).then(a,n)}function pt(r){return function(){var e=this,t=arguments;return new Promise(function(a,n){var i=r.apply(e,t);function o(l){bl(i,a,n,o,s,"next",l)}function s(l){bl(i,a,n,o,s,"throw",l)}o(void 0)})}}var k0=vs,F0=String,ot=function(r){if(k0(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return F0(r)},V0=Se,Hf=function(){var r=V0(this),e="";return r.hasIndices&&(e+="d"),r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.unicodeSets&&(e+="v"),r.sticky&&(e+="y"),e},Es=ne,U0=re,Os=U0.RegExp,Ss=Es(function(){var r=Os("a","y");return r.lastIndex=2,r.exec("abcd")!==null});Ss||Es(function(){return!Os("a","y").sticky});var B0=Ss||Es(function(){var r=Os("^r","gy");return r.lastIndex=2,r.exec("str")!==null}),Gf={BROKEN_CARET:B0,UNSUPPORTED_Y:Ss},Wf={},j0=sf,z0=hs,H0=Object.keys||function(e){return j0(e,z0)},G0=Qe,W0=Qu,Y0=bt,X0=Se,q0=Ur,Q0=H0;Wf.f=G0&&!W0?Object.defineProperties:function(e,t){X0(e);for(var a=q0(t),n=Q0(t),i=n.length,o=0,s;i>o;)Y0.f(e,s=n[o++],a[s]);return e};var K0=Se,Z0=Wf,Tl=hs,J0=ls,eb=bf,tb=Ha,rb=os,El=">",Ol="<",Pi="prototype",Ri="script",Yf=rb("IE_PROTO"),Hn=function(){},Xf=function(r){return Ol+Ri+El+r+Ol+"/"+Ri+El},Sl=function(r){r.write(Xf("")),r.close();var e=r.parentWindow.Object;return r=null,e},ab=function(){var r=tb("iframe"),e="java"+Ri+":",t;return r.style.display="none",eb.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(Xf("document.F=Object")),t.close(),t.F},ha,Aa=function(){try{ha=new ActiveXObject("htmlfile")}catch{}Aa=typeof document<"u"?document.domain&&ha?Sl(ha):ab():Sl(ha);for(var r=Tl.length;r--;)delete Aa[Pi][Tl[r]];return Aa()};J0[Yf]=!0;var xs=Object.create||function(e,t){var a;return e!==null?(Hn[Pi]=K0(e),a=new Hn,Hn[Pi]=null,a[Yf]=e):a=Aa(),t===void 0?a:Z0.f(a,t)},nb=ne,ib=re,sb=ib.RegExp,ob=nb(function(){var r=sb(".","s");return!(r.dotAll&&r.test(`
`)&&r.flags==="s")}),lb=ne,ub=re,fb=ub.RegExp,hb=lb(function(){var r=fb("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"}),ur=de,Ja=ie,vb=ot,cb=Hf,gb=Gf,db=is,pb=xs,yb=Wa.get,mb=ob,bb=hb,Tb=db("native-string-replace",String.prototype.replace),La=RegExp.prototype.exec,Ni=La,Eb=Ja("".charAt),Ob=Ja("".indexOf),Sb=Ja("".replace),Gn=Ja("".slice),_i=function(){var r=/a/,e=/b*/g;return ur(La,r,"a"),ur(La,e,"a"),r.lastIndex!==0||e.lastIndex!==0}(),qf=gb.BROKEN_CARET,Ii=/()??/.exec("")[1]!==void 0,xb=_i||Ii||qf||mb||bb;xb&&(Ni=function(e){var t=this,a=yb(t),n=vb(e),i=a.raw,o,s,l,u,f,h,c;if(i)return i.lastIndex=t.lastIndex,o=ur(Ni,i,n),t.lastIndex=i.lastIndex,o;var v=a.groups,d=qf&&t.sticky,p=ur(cb,t),y=t.source,m=0,O=n;if(d&&(p=Sb(p,"y",""),Ob(p,"g")===-1&&(p+="g"),O=Gn(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Eb(n,t.lastIndex-1)!==`
`)&&(y="(?: "+y+")",O=" "+O,m++),s=new RegExp("^(?:"+y+")",p)),Ii&&(s=new RegExp("^"+y+"$(?!\\s)",p)),_i&&(l=t.lastIndex),u=ur(La,d?s:t,O),d?u?(u.input=Gn(u.input,m),u[0]=Gn(u[0],m),u.index=t.lastIndex,t.lastIndex+=u[0].length):t.lastIndex=0:_i&&u&&(t.lastIndex=t.global?u.index+u[0].length:l),Ii&&u&&u.length>1&&ur(Tb,u[0],s,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(u[f]=void 0)}),u&&v)for(u.groups=h=pb(null),f=0;f<v.length;f++)c=v[f],h[c[0]]=u[c[1]];return u});var ws=Ni,wb=xe,xl=ws;wb({target:"RegExp",proto:!0,forced:/./.exec!==xl},{exec:xl});var wl=de,Al=Qt,Ab=ws,Cl=ne,Qf=ve,Cb=jr,$b=Qf("species"),Wn=RegExp.prototype,As=function(r,e,t,a){var n=Qf(r),i=!Cl(function(){var u={};return u[n]=function(){return 7},""[r](u)!==7}),o=i&&!Cl(function(){var u=!1,f=/a/;if(r==="split"){var h={};h[$b]=function(){return f},f={constructor:h,flags:""},f[n]=/./[n]}return f.exec=function(){return u=!0,null},f[n](""),!u});if(!i||!o||t){var s=/./[n],l=e(n,""[r],function(u,f,h,c,v){var d=f.exec;return d===Ab||d===Wn.exec?i&&!v?{done:!0,value:wl(s,f,h,c)}:{done:!0,value:wl(u,h,f,c)}:{done:!1}});Al(String.prototype,r,l[0]),Al(Wn,n,l[1])}a&&Cb(Wn[n],"sham",!0)},Cs=ie,Pb=Ya,Rb=ot,Nb=Ke,_b=Cs("".charAt),$l=Cs("".charCodeAt),Ib=Cs("".slice),Mb=function(r){return function(e,t){var a=Rb(Nb(e)),n=Pb(t),i=a.length,o,s;return n<0||n>=i?r?"":void 0:(o=$l(a,n),o<55296||o>56319||n+1===i||(s=$l(a,n+1))<56320||s>57343?r?_b(a,n):o:r?Ib(a,n,n+2):(o-55296<<10)+(s-56320)+65536)}},Lb={charAt:Mb(!0)},Db=Lb.charAt,$s=function(r,e,t){return e+(t?Db(r,e).length:1)},kb=re,Fb=ne,Pl=kb.RegExp,Vb=!Fb(function(){var r=!0;try{Pl(".","d")}catch{r=!1}var e={},t="",a=r?"dgimsy":"gimsy",n=function(l,u){Object.defineProperty(e,l,{get:function(){return t+=u,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};r&&(i.hasIndices="d");for(var o in i)n(o,i[o]);var s=Object.getOwnPropertyDescriptor(Pl.prototype,"flags").get.call(e);return s!==a||t!==a}),Ub={correct:Vb},Bb=de,jb=Ze,zb=Ba,Rl=Ub,Hb=Hf,Gb=RegExp.prototype,Ps=Rl.correct?function(r){return r.flags}:function(r){return!Rl.correct&&zb(Gb,r)&&!jb(r,"flags")?Bb(Hb,r):r.flags},Nl=de,Wb=Se,Yb=se,Xb=Xt,qb=ws,Qb=TypeError,Rs=function(r,e){var t=r.exec;if(Yb(t)){var a=Nl(t,r,e);return a!==null&&Wb(a),a}if(Xb(r)==="RegExp")return Nl(qb,r,e);throw new Qb("RegExp#exec called on incompatible receiver")},Kb=de,Zb=ie,Jb=As,e1=Se,t1=Ce,r1=pr,va=ot,a1=Ke,n1=dr,i1=$s,s1=Ps,_l=Rs,Il=Zb("".indexOf);Jb("match",function(r,e,t){return[function(n){var i=a1(this),o=t1(n)?n1(n,r):void 0;return o?Kb(o,n,i):new RegExp(n)[r](va(i))},function(a){var n=e1(this),i=va(a),o=t(e,n,i);if(o.done)return o.value;var s=va(s1(n));if(Il(s,"g")===-1)return _l(n,i);var l=Il(s,"u")!==-1;n.lastIndex=0;for(var u=[],f=0,h;(h=_l(n,i))!==null;){var c=va(h[0]);u[f]=c,c===""&&(n.lastIndex=i1(i,r1(n.lastIndex),l)),f++}return f===0?null:u}]});var Ns=ie,o1=za,l1=Math.floor,Yn=Ns("".charAt),u1=Ns("".replace),Xn=Ns("".slice),f1=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h1=/\$([$&'`]|\d{1,2})/g,v1=function(r,e,t,a,n,i){var o=t+r.length,s=a.length,l=h1;return n!==void 0&&(n=o1(n),l=f1),u1(i,l,function(u,f){var h;switch(Yn(f,0)){case"$":return"$";case"&":return r;case"`":return Xn(e,0,t);case"'":return Xn(e,o);case"<":h=n[Xn(f,1,-1)];break;default:var c=+f;if(c===0)return u;if(c>s){var v=l1(c/10);return v===0?u:v<=s?a[v-1]===void 0?Yn(f,1):a[v-1]+Yn(f,1):u}h=a[c-1]}return h===void 0?"":h})},c1=mf,Ml=de,en=ie,g1=As,d1=ne,p1=Se,y1=se,m1=Ce,b1=Ya,T1=pr,Ut=ot,E1=Ke,O1=$s,S1=dr,x1=v1,w1=Ps,A1=Rs,C1=ve,Mi=C1("replace"),$1=Math.max,P1=Math.min,R1=en([].concat),qn=en([].push),ca=en("".indexOf),Ll=en("".slice),N1=function(r){return r===void 0?r:String(r)},_1=function(){return"a".replace(/./,"$0")==="$0"}(),Dl=function(){return/./[Mi]?/./[Mi]("a","$0")==="":!1}(),I1=!d1(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"});g1("replace",function(r,e,t){var a=Dl?"$":"$0";return[function(i,o){var s=E1(this),l=m1(i)?S1(i,Mi):void 0;return l?Ml(l,i,s,o):Ml(e,Ut(s),i,o)},function(n,i){var o=p1(this),s=Ut(n);if(typeof i=="string"&&ca(i,a)===-1&&ca(i,"$<")===-1){var l=t(e,o,s,i);if(l.done)return l.value}var u=y1(i);u||(i=Ut(i));var f=Ut(w1(o)),h=ca(f,"g")!==-1,c;h&&(c=ca(f,"u")!==-1,o.lastIndex=0);for(var v=[],d;d=A1(o,s),!(d===null||(qn(v,d),!h));){var p=Ut(d[0]);p===""&&(o.lastIndex=O1(s,T1(o.lastIndex),c))}for(var y="",m=0,O=0;O<v.length;O++){d=v[O];for(var b=Ut(d[0]),T=$1(P1(b1(d.index),s.length),0),_=[],N,A=1;A<d.length;A++)qn(_,N1(d[A]));var P=d.groups;if(u){var $=R1([b],_,T,s);P!==void 0&&qn($,P),N=Ut(c1(i,void 0,$))}else N=x1(b,s,T,_,P,i);T>=m&&(y+=Ll(s,m,T)+N,m=T+b.length)}return y+Ll(s,m)}]},!I1||!_1||Dl);var M1=Ce,L1=Xt,D1=ve,k1=D1("match"),F1=function(r){var e;return M1(r)&&((e=r[k1])!==void 0?!!e:L1(r)==="RegExp")},V1=F1,U1=TypeError,_s=function(r){if(V1(r))throw new U1("The method doesn't accept regular expressions");return r},B1=ve,j1=B1("match"),Is=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[j1]=!1,"/./"[r](e)}catch{}}return!1},z1=xe,H1=Qa,G1=Vr.f,W1=pr,kl=ot,Y1=_s,X1=Ke,q1=Is,Q1=H1("".slice),K1=Math.min,Kf=q1("startsWith"),Z1=!Kf&&!!function(){var r=G1(String.prototype,"startsWith");return r&&!r.writable}();z1({target:"String",proto:!0,forced:!Z1&&!Kf},{startsWith:function(e){var t=kl(X1(this));Y1(e);var a=W1(K1(arguments.length>1?arguments[1]:void 0,t.length)),n=kl(e);return Q1(t,a,a+n.length)===n}});var J1=ve,eT=xs,tT=bt.f,Li=J1("unscopables"),Di=Array.prototype;Di[Li]===void 0&&tT(Di,Li,{configurable:!0,value:eT(null)});var rT=function(r){Di[Li][r]=!0},aT=ne,nT=!aT(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),iT=Ze,sT=se,oT=za,lT=os,uT=nT,Fl=lT("IE_PROTO"),ki=Object,fT=ki.prototype,Zf=uT?ki.getPrototypeOf:function(r){var e=oT(r);if(iT(e,Fl))return e[Fl];var t=e.constructor;return sT(t)&&e instanceof t?t.prototype:e instanceof ki?fT:null},hT=ne,vT=se,cT=Ce,Vl=Zf,gT=Qt,dT=ve,Fi=dT("iterator"),Jf=!1,Yt,Qn,Kn;[].keys&&(Kn=[].keys(),"next"in Kn?(Qn=Vl(Vl(Kn)),Qn!==Object.prototype&&(Yt=Qn)):Jf=!0);var pT=!cT(Yt)||hT(function(){var r={};return Yt[Fi].call(r)!==r});pT&&(Yt={});vT(Yt[Fi])||gT(Yt,Fi,function(){return this});var eh={IteratorPrototype:Yt,BUGGY_SAFARI_ITERATORS:Jf},yT=eh.IteratorPrototype,mT=xs,bT=ts,TT=qa,ET=Gr,OT=function(){return this},ST=function(r,e,t,a){var n=e+" Iterator";return r.prototype=mT(yT,{next:bT(+!a,t)}),TT(r,n,!1),ET[n]=OT,r},xT=xe,wT=de,th=Ga,AT=se,CT=ST,Ul=Zf,Bl=ff,$T=qa,PT=jr,Zn=Qt,RT=ve,NT=Gr,rh=eh,_T=th.PROPER,IT=th.CONFIGURABLE,jl=rh.IteratorPrototype,ga=rh.BUGGY_SAFARI_ITERATORS,Cr=RT("iterator"),zl="keys",$r="values",Hl="entries",MT=function(){return this},LT=function(r,e,t,a,n,i,o){CT(t,e,a);var s=function(m){if(m===n&&c)return c;if(!ga&&m&&m in f)return f[m];switch(m){case zl:return function(){return new t(this,m)};case $r:return function(){return new t(this,m)};case Hl:return function(){return new t(this,m)}}return function(){return new t(this)}},l=e+" Iterator",u=!1,f=r.prototype,h=f[Cr]||f["@@iterator"]||n&&f[n],c=!ga&&h||s(n),v=e==="Array"&&f.entries||h,d,p,y;if(v&&(d=Ul(v.call(new r)),d!==Object.prototype&&d.next&&(Ul(d)!==jl&&(Bl?Bl(d,jl):AT(d[Cr])||Zn(d,Cr,MT)),$T(d,l,!0))),_T&&n===$r&&h&&h.name!==$r&&(IT?PT(f,"name",$r):(u=!0,c=function(){return wT(h,this)})),n)if(p={values:s($r),keys:i?c:s(zl),entries:s(Hl)},o)for(y in p)(ga||u||!(y in f))&&Zn(f,y,p[y]);else xT({target:e,proto:!0,forced:ga||u},p);return f[Cr]!==c&&Zn(f,Cr,c,{name:n}),NT[e]=c,p},DT=function(r,e){return{value:r,done:e}},kT=Ur,Ms=rT,Gl=Gr,ah=Wa,FT=bt.f,VT=LT,da=DT,UT=Qe,nh="Array Iterator",BT=ah.set,jT=ah.getterFor(nh),zT=VT(Array,"Array",function(r,e){BT(this,{type:nh,target:kT(r),index:0,kind:e})},function(){var r=jT(this),e=r.target,t=r.index++;if(!e||t>=e.length)return r.target=null,da(void 0,!0);switch(r.kind){case"keys":return da(t,!1);case"values":return da(e[t],!1)}return da([t,e[t]],!1)},"values"),Wl=Gl.Arguments=Gl.Array;Ms("keys");Ms("values");Ms("entries");if(UT&&Wl.name!=="values")try{FT(Wl,"name",{value:"values"})}catch{}var HT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},GT=Ha,Jn=GT("span").classList,Yl=Jn&&Jn.constructor&&Jn.constructor.prototype,WT=Yl===Object.prototype?void 0:Yl,Xl=re,ih=HT,YT=WT,Rr=zT,ql=jr,XT=qa,qT=ve,ei=qT("iterator"),ti=Rr.values,sh=function(r,e){if(r){if(r[ei]!==ti)try{ql(r,ei,ti)}catch{r[ei]=ti}if(XT(r,e,!0),ih[e]){for(var t in Rr)if(r[t]!==Rr[t])try{ql(r,t,Rr[t])}catch{r[t]=Rr[t]}}}};for(var ri in ih)sh(Xl[ri]&&Xl[ri].prototype,ri);sh(YT,"DOMTokenList");function QT(r,e){if(Mr(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(Mr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function KT(r){var e=QT(r,"string");return Mr(e)=="symbol"?e:e+""}function Ls(r,e,t){return(e=KT(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ZT=mt,JT=za,e2=Bu,t2=fs,Ql=TypeError,Kl="Reduce of empty array with no initial value",r2=function(r){return function(e,t,a,n){var i=JT(e),o=e2(i),s=t2(i);if(ZT(t),s===0&&a<2)throw new Ql(Kl);var l=r?s-1:0,u=r?-1:1;if(a<2)for(;;){if(l in o){n=o[l],l+=u;break}if(l+=u,r?l<0:s<=l)throw new Ql(Kl)}for(;r?l>=0:s>l;l+=u)l in o&&(n=t(n,o[l],l,i));return n}},a2={left:r2(!1)},n2=ne,oh=function(r,e){var t=[][r];return!!t&&n2(function(){t.call(null,e||function(){return 1},1)})},i2=xe,s2=a2.left,o2=oh,Zl=rs,l2=Xa,u2=!l2&&Zl>79&&Zl<83,f2=u2||!o2("reduce");i2({target:"Array",proto:!0,forced:f2},{reduce:function(e){var t=arguments.length;return s2(this,e,t,t>1?arguments[1]:void 0)}});var h2=xe,v2=Qa,c2=Vr.f,g2=pr,Jl=ot,d2=_s,p2=Ke,y2=Is,m2=v2("".slice),b2=Math.min,lh=y2("endsWith"),T2=!lh&&!!function(){var r=c2(String.prototype,"endsWith");return r&&!r.writable}();h2({target:"String",proto:!0,forced:!T2&&!lh},{endsWith:function(e){var t=Jl(p2(this));d2(e);var a=arguments.length>1?arguments[1]:void 0,n=t.length,i=a===void 0?n:b2(g2(a),n),o=Jl(e);return m2(t,i-o.length,i)===o}});var ai=de,uh=ie,E2=As,O2=Se,S2=Ce,x2=Ke,w2=pf,A2=$s,C2=pr,eu=ot,$2=dr,tu=Rs,P2=Gf,R2=ne,nr=P2.UNSUPPORTED_Y,N2=4294967295,_2=Math.min,ni=uh([].push),ii=uh("".slice),I2=!R2(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length!==2||t[0]!=="a"||t[1]!=="b"}),ru="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;E2("split",function(r,e,t){var a="0".split(void 0,0).length?function(n,i){return n===void 0&&i===0?[]:ai(e,this,n,i)}:e;return[function(i,o){var s=x2(this),l=S2(i)?$2(i,r):void 0;return l?ai(l,i,s,o):ai(a,eu(s),i,o)},function(n,i){var o=O2(this),s=eu(n);if(!ru){var l=t(a,o,s,i,a!==e);if(l.done)return l.value}var u=w2(o,RegExp),f=o.unicode,h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(nr?"g":"y"),c=new u(nr?"^(?:"+o.source+")":o,h),v=i===void 0?N2:i>>>0;if(v===0)return[];if(s.length===0)return tu(c,s)===null?[s]:[];for(var d=0,p=0,y=[];p<s.length;){c.lastIndex=nr?0:p;var m=tu(c,nr?ii(s,p):s),O;if(m===null||(O=_2(C2(c.lastIndex+(nr?p:0)),s.length))===d)p=A2(s,p,f);else{if(ni(y,ii(s,d,p)),y.length===v)return y;for(var b=1;b<=m.length-1;b++)if(ni(y,m[b]),y.length===v)return y;p=d=O}}return ni(y,ii(s,d)),y}]},ru||!I2,nr);var tn={exports:{}},Nr={exports:{}};(function(){var r,e,t,a,n,i;typeof performance<"u"&&performance!==null&&performance.now?Nr.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Nr.exports=function(){return(r()-n)/1e6},e=process.hrtime,r=function(){var o;return o=e(),o[0]*1e9+o[1]},a=r(),i=process.uptime()*1e9,n=a-i):Date.now?(Nr.exports=function(){return Date.now()-t},t=Date.now()):(Nr.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(sr);var M2=Nr.exports,L2=M2,gt=typeof window>"u"?sr:window,pa=["moz","webkit"],hr="AnimationFrame",gr=gt["request"+hr],Fr=gt["cancel"+hr]||gt["cancelRequest"+hr];for(var Pr=0;!gr&&Pr<pa.length;Pr++)gr=gt[pa[Pr]+"Request"+hr],Fr=gt[pa[Pr]+"Cancel"+hr]||gt[pa[Pr]+"CancelRequest"+hr];if(!gr||!Fr){var si=0,au=0,Bt=[],D2=1e3/60;gr=function(r){if(Bt.length===0){var e=L2(),t=Math.max(0,D2-(e-si));si=t+e,setTimeout(function(){var a=Bt.slice(0);Bt.length=0;for(var n=0;n<a.length;n++)if(!a[n].cancelled)try{a[n].callback(si)}catch(i){setTimeout(function(){throw i},0)}},Math.round(t))}return Bt.push({handle:++au,callback:r,cancelled:!1}),au},Fr=function(r){for(var e=0;e<Bt.length;e++)Bt[e].handle===r&&(Bt[e].cancelled=!0)}}tn.exports=function(r){return gr.call(gt,r)};tn.exports.cancel=function(){Fr.apply(gt,arguments)};tn.exports.polyfill=function(r){r||(r=gt),r.requestAnimationFrame=gr,r.cancelAnimationFrame=Fr};var k2=tn.exports;const oi=Eu(k2);var fh=`	
\v\f\r                　\u2028\u2029\uFEFF`,F2=ie,V2=Ke,U2=ot,Vi=fh,nu=F2("".replace),B2=RegExp("^["+Vi+"]+"),j2=RegExp("(^|[^"+Vi+"])["+Vi+"]+$"),z2=function(r){return function(e){var t=U2(V2(e));return r&1&&(t=nu(t,B2,"")),r&2&&(t=nu(t,j2,"$1")),t}},H2={trim:z2(3)},G2=Ga.PROPER,W2=ne,iu=fh,su="​᠎",Y2=function(r){return W2(function(){return!!iu[r]()||su[r]()!==su||G2&&iu[r].name!==r})},X2=xe,q2=H2.trim,Q2=Y2;X2({target:"String",proto:!0,forced:Q2("trim")},{trim:function(){return q2(this)}});var K2=function(r){this.ok=!1,this.alpha=1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r=r.replace(/ /g,""),r=r.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};r=e[r]||r;for(var t=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3]),parseFloat(l[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<t.length;a++){var n=t[a].re,i=t[a].process,o=n.exec(r);if(o){var s=i(o);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f},this.getHelpXML=function(){for(var l=new Array,u=0;u<t.length;u++)for(var f=t[u].example,h=0;h<f.length;h++)l[l.length]=f[h];for(var c in e)l[l.length]=c;var v=document.createElement("ul");v.setAttribute("id","rgbcolor-examples");for(var u=0;u<l.length;u++)try{var d=document.createElement("li"),p=new RGBColor(l[u]),y=document.createElement("div");y.style.cssText="margin: 3px; border: 1px solid black; background:"+p.toHex()+"; color:"+p.toHex(),y.appendChild(document.createTextNode("test"));var m=document.createTextNode(" "+l[u]+" -> "+p.toRGB()+" -> "+p.toHex());d.appendChild(y),d.appendChild(m),v.appendChild(d)}catch{}return v}};const Ui=Eu(K2);var Z2=xe,J2=Qa,eE=nf.indexOf,tE=oh,Bi=J2([].indexOf),hh=!!Bi&&1/Bi([1],1,-0)<0,rE=hh||!tE("indexOf");Z2({target:"Array",proto:!0,forced:rE},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return hh?Bi(this,e,t)||0:eE(this,e,t)}});var aE=xe,nE=ie,iE=_s,sE=Ke,ou=ot,oE=Is,lE=nE("".indexOf);aE({target:"String",proto:!0,forced:!oE("includes")},{includes:function(e){return!!~lE(ou(sE(this)),ou(iE(e)),arguments.length>1?arguments[1]:void 0)}});var uE=Xt,fE=Array.isArray||function(e){return uE(e)==="Array"},hE=xe,vE=ie,cE=fE,gE=vE([].reverse),lu=[1,2];hE({target:"Array",proto:!0,forced:String(lu)===String(lu.reverse())},{reverse:function(){return cE(this)&&(this.length=this.length),gE(this)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vh=function(r,e){return(vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])})(r,e)};function ch(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}vh(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function dE(r){var e="";Array.isArray(r)||(r=[r]);for(var t=0;t<r.length;t++){var a=r[t];if(a.type===E.CLOSE_PATH)e+="z";else if(a.type===E.HORIZ_LINE_TO)e+=(a.relative?"h":"H")+a.x;else if(a.type===E.VERT_LINE_TO)e+=(a.relative?"v":"V")+a.y;else if(a.type===E.MOVE_TO)e+=(a.relative?"m":"M")+a.x+" "+a.y;else if(a.type===E.LINE_TO)e+=(a.relative?"l":"L")+a.x+" "+a.y;else if(a.type===E.CURVE_TO)e+=(a.relative?"c":"C")+a.x1+" "+a.y1+" "+a.x2+" "+a.y2+" "+a.x+" "+a.y;else if(a.type===E.SMOOTH_CURVE_TO)e+=(a.relative?"s":"S")+a.x2+" "+a.y2+" "+a.x+" "+a.y;else if(a.type===E.QUAD_TO)e+=(a.relative?"q":"Q")+a.x1+" "+a.y1+" "+a.x+" "+a.y;else if(a.type===E.SMOOTH_QUAD_TO)e+=(a.relative?"t":"T")+a.x+" "+a.y;else{if(a.type!==E.ARC)throw new Error('Unexpected command type "'+a.type+'" at index '+t+".");e+=(a.relative?"a":"A")+a.rX+" "+a.rY+" "+a.xRot+" "+ +a.lArcFlag+" "+ +a.sweepFlag+" "+a.x+" "+a.y}}return e}function ji(r,e){var t=r[0],a=r[1];return[t*Math.cos(e)-a*Math.sin(e),t*Math.sin(e)+a*Math.cos(e)]}function Ye(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++)if(typeof r[t]!="number")throw new Error("assertNumbers arguments["+t+"] is not a number. "+typeof r[t]+" == typeof "+r[t]);return!0}var wt=Math.PI;function li(r,e,t){r.lArcFlag=r.lArcFlag===0?0:1,r.sweepFlag=r.sweepFlag===0?0:1;var a=r.rX,n=r.rY,i=r.x,o=r.y;a=Math.abs(r.rX),n=Math.abs(r.rY);var s=ji([(e-i)/2,(t-o)/2],-r.xRot/180*wt),l=s[0],u=s[1],f=Math.pow(l,2)/Math.pow(a,2)+Math.pow(u,2)/Math.pow(n,2);1<f&&(a*=Math.sqrt(f),n*=Math.sqrt(f)),r.rX=a,r.rY=n;var h=Math.pow(a,2)*Math.pow(u,2)+Math.pow(n,2)*Math.pow(l,2),c=(r.lArcFlag!==r.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(a,2)*Math.pow(n,2)-h)/h)),v=a*u/n*c,d=-n*l/a*c,p=ji([v,d],r.xRot/180*wt);r.cX=p[0]+(e+i)/2,r.cY=p[1]+(t+o)/2,r.phi1=Math.atan2((u-d)/n,(l-v)/a),r.phi2=Math.atan2((-u-d)/n,(-l-v)/a),r.sweepFlag===0&&r.phi2>r.phi1&&(r.phi2-=2*wt),r.sweepFlag===1&&r.phi2<r.phi1&&(r.phi2+=2*wt),r.phi1*=180/wt,r.phi2*=180/wt}function uu(r,e,t){Ye(r,e,t);var a=r*r+e*e-t*t;if(0>a)return[];if(a===0)return[[r*t/(r*r+e*e),e*t/(r*r+e*e)]];var n=Math.sqrt(a);return[[(r*t+e*n)/(r*r+e*e),(e*t-r*n)/(r*r+e*e)],[(r*t-e*n)/(r*r+e*e),(e*t+r*n)/(r*r+e*e)]]}var le,vt=Math.PI/180;function fu(r,e,t){return(1-t)*r+t*e}function hu(r,e,t,a){return r+Math.cos(a/180*wt)*e+Math.sin(a/180*wt)*t}function vu(r,e,t,a){var n=1e-6,i=e-r,o=t-e,s=3*i+3*(a-t)-6*o,l=6*(o-i),u=3*i;return Math.abs(s)<n?[-u/l]:function(f,h,c){var v=f*f/4-h;if(v<-c)return[];if(v<=c)return[-f/2];var d=Math.sqrt(v);return[-f/2-d,-f/2+d]}(l/s,u/s,n)}function cu(r,e,t,a,n){var i=1-n;return r*(i*i*i)+e*(3*i*i*n)+t*(3*i*n*n)+a*(n*n*n)}(function(r){function e(){return n(function(s,l,u){return s.relative&&(s.x1!==void 0&&(s.x1+=l),s.y1!==void 0&&(s.y1+=u),s.x2!==void 0&&(s.x2+=l),s.y2!==void 0&&(s.y2+=u),s.x!==void 0&&(s.x+=l),s.y!==void 0&&(s.y+=u),s.relative=!1),s})}function t(){var s=NaN,l=NaN,u=NaN,f=NaN;return n(function(h,c,v){return h.type&E.SMOOTH_CURVE_TO&&(h.type=E.CURVE_TO,s=isNaN(s)?c:s,l=isNaN(l)?v:l,h.x1=h.relative?c-s:2*c-s,h.y1=h.relative?v-l:2*v-l),h.type&E.CURVE_TO?(s=h.relative?c+h.x2:h.x2,l=h.relative?v+h.y2:h.y2):(s=NaN,l=NaN),h.type&E.SMOOTH_QUAD_TO&&(h.type=E.QUAD_TO,u=isNaN(u)?c:u,f=isNaN(f)?v:f,h.x1=h.relative?c-u:2*c-u,h.y1=h.relative?v-f:2*v-f),h.type&E.QUAD_TO?(u=h.relative?c+h.x1:h.x1,f=h.relative?v+h.y1:h.y1):(u=NaN,f=NaN),h})}function a(){var s=NaN,l=NaN;return n(function(u,f,h){if(u.type&E.SMOOTH_QUAD_TO&&(u.type=E.QUAD_TO,s=isNaN(s)?f:s,l=isNaN(l)?h:l,u.x1=u.relative?f-s:2*f-s,u.y1=u.relative?h-l:2*h-l),u.type&E.QUAD_TO){s=u.relative?f+u.x1:u.x1,l=u.relative?h+u.y1:u.y1;var c=u.x1,v=u.y1;u.type=E.CURVE_TO,u.x1=((u.relative?0:f)+2*c)/3,u.y1=((u.relative?0:h)+2*v)/3,u.x2=(u.x+2*c)/3,u.y2=(u.y+2*v)/3}else s=NaN,l=NaN;return u})}function n(s){var l=0,u=0,f=NaN,h=NaN;return function(c){if(isNaN(f)&&!(c.type&E.MOVE_TO))throw new Error("path must start with moveto");var v=s(c,l,u,f,h);return c.type&E.CLOSE_PATH&&(l=f,u=h),c.x!==void 0&&(l=c.relative?l+c.x:c.x),c.y!==void 0&&(u=c.relative?u+c.y:c.y),c.type&E.MOVE_TO&&(f=l,h=u),v}}function i(s,l,u,f,h,c){return Ye(s,l,u,f,h,c),n(function(v,d,p,y){var m=v.x1,O=v.x2,b=v.relative&&!isNaN(y),T=v.x!==void 0?v.x:b?0:d,_=v.y!==void 0?v.y:b?0:p;function N(j){return j*j}v.type&E.HORIZ_LINE_TO&&l!==0&&(v.type=E.LINE_TO,v.y=v.relative?0:p),v.type&E.VERT_LINE_TO&&u!==0&&(v.type=E.LINE_TO,v.x=v.relative?0:d),v.x!==void 0&&(v.x=v.x*s+_*u+(b?0:h)),v.y!==void 0&&(v.y=T*l+v.y*f+(b?0:c)),v.x1!==void 0&&(v.x1=v.x1*s+v.y1*u+(b?0:h)),v.y1!==void 0&&(v.y1=m*l+v.y1*f+(b?0:c)),v.x2!==void 0&&(v.x2=v.x2*s+v.y2*u+(b?0:h)),v.y2!==void 0&&(v.y2=O*l+v.y2*f+(b?0:c));var A=s*f-l*u;if(v.xRot!==void 0&&(s!==1||l!==0||u!==0||f!==1))if(A===0)delete v.rX,delete v.rY,delete v.xRot,delete v.lArcFlag,delete v.sweepFlag,v.type=E.LINE_TO;else{var P=v.xRot*Math.PI/180,$=Math.sin(P),V=Math.cos(P),B=1/N(v.rX),k=1/N(v.rY),H=N(V)*B+N($)*k,X=2*$*V*(B-k),Y=N($)*B+N(V)*k,G=H*f*f-X*l*f+Y*l*l,U=X*(s*f+l*u)-2*(H*u*f+Y*s*l),S=H*u*u-X*s*u+Y*s*s,w=(Math.atan2(U,G-S)+Math.PI)%Math.PI/2,R=Math.sin(w),L=Math.cos(w);v.rX=Math.abs(A)/Math.sqrt(G*N(L)+U*R*L+S*N(R)),v.rY=Math.abs(A)/Math.sqrt(G*N(R)-U*R*L+S*N(L)),v.xRot=180*w/Math.PI}return v.sweepFlag!==void 0&&0>A&&(v.sweepFlag=+!v.sweepFlag),v})}function o(){return function(s){var l={};for(var u in s)l[u]=s[u];return l}}r.ROUND=function(s){function l(u){return Math.round(u*s)/s}return s===void 0&&(s=1e13),Ye(s),function(u){return u.x1!==void 0&&(u.x1=l(u.x1)),u.y1!==void 0&&(u.y1=l(u.y1)),u.x2!==void 0&&(u.x2=l(u.x2)),u.y2!==void 0&&(u.y2=l(u.y2)),u.x!==void 0&&(u.x=l(u.x)),u.y!==void 0&&(u.y=l(u.y)),u.rX!==void 0&&(u.rX=l(u.rX)),u.rY!==void 0&&(u.rY=l(u.rY)),u}},r.TO_ABS=e,r.TO_REL=function(){return n(function(s,l,u){return s.relative||(s.x1!==void 0&&(s.x1-=l),s.y1!==void 0&&(s.y1-=u),s.x2!==void 0&&(s.x2-=l),s.y2!==void 0&&(s.y2-=u),s.x!==void 0&&(s.x-=l),s.y!==void 0&&(s.y-=u),s.relative=!0),s})},r.NORMALIZE_HVZ=function(s,l,u){return s===void 0&&(s=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),n(function(f,h,c,v,d){if(isNaN(v)&&!(f.type&E.MOVE_TO))throw new Error("path must start with moveto");return l&&f.type&E.HORIZ_LINE_TO&&(f.type=E.LINE_TO,f.y=f.relative?0:c),u&&f.type&E.VERT_LINE_TO&&(f.type=E.LINE_TO,f.x=f.relative?0:h),s&&f.type&E.CLOSE_PATH&&(f.type=E.LINE_TO,f.x=f.relative?v-h:v,f.y=f.relative?d-c:d),f.type&E.ARC&&(f.rX===0||f.rY===0)&&(f.type=E.LINE_TO,delete f.rX,delete f.rY,delete f.xRot,delete f.lArcFlag,delete f.sweepFlag),f})},r.NORMALIZE_ST=t,r.QT_TO_C=a,r.INFO=n,r.SANITIZE=function(s){s===void 0&&(s=0),Ye(s);var l=NaN,u=NaN,f=NaN,h=NaN;return n(function(c,v,d,p,y){var m=Math.abs,O=!1,b=0,T=0;if(c.type&E.SMOOTH_CURVE_TO&&(b=isNaN(l)?0:v-l,T=isNaN(u)?0:d-u),c.type&(E.CURVE_TO|E.SMOOTH_CURVE_TO)?(l=c.relative?v+c.x2:c.x2,u=c.relative?d+c.y2:c.y2):(l=NaN,u=NaN),c.type&E.SMOOTH_QUAD_TO?(f=isNaN(f)?v:2*v-f,h=isNaN(h)?d:2*d-h):c.type&E.QUAD_TO?(f=c.relative?v+c.x1:c.x1,h=c.relative?d+c.y1:c.y2):(f=NaN,h=NaN),c.type&E.LINE_COMMANDS||c.type&E.ARC&&(c.rX===0||c.rY===0||!c.lArcFlag)||c.type&E.CURVE_TO||c.type&E.SMOOTH_CURVE_TO||c.type&E.QUAD_TO||c.type&E.SMOOTH_QUAD_TO){var _=c.x===void 0?0:c.relative?c.x:c.x-v,N=c.y===void 0?0:c.relative?c.y:c.y-d;b=isNaN(f)?c.x1===void 0?b:c.relative?c.x:c.x1-v:f-v,T=isNaN(h)?c.y1===void 0?T:c.relative?c.y:c.y1-d:h-d;var A=c.x2===void 0?0:c.relative?c.x:c.x2-v,P=c.y2===void 0?0:c.relative?c.y:c.y2-d;m(_)<=s&&m(N)<=s&&m(b)<=s&&m(T)<=s&&m(A)<=s&&m(P)<=s&&(O=!0)}return c.type&E.CLOSE_PATH&&m(v-p)<=s&&m(d-y)<=s&&(O=!0),O?[]:c})},r.MATRIX=i,r.ROTATE=function(s,l,u){l===void 0&&(l=0),u===void 0&&(u=0),Ye(s,l,u);var f=Math.sin(s),h=Math.cos(s);return i(h,f,-f,h,l-l*h+u*f,u-l*f-u*h)},r.TRANSLATE=function(s,l){return l===void 0&&(l=0),Ye(s,l),i(1,0,0,1,s,l)},r.SCALE=function(s,l){return l===void 0&&(l=s),Ye(s,l),i(s,0,0,l,0,0)},r.SKEW_X=function(s){return Ye(s),i(1,0,Math.atan(s),1,0,0)},r.SKEW_Y=function(s){return Ye(s),i(1,Math.atan(s),0,1,0,0)},r.X_AXIS_SYMMETRY=function(s){return s===void 0&&(s=0),Ye(s),i(-1,0,0,1,s,0)},r.Y_AXIS_SYMMETRY=function(s){return s===void 0&&(s=0),Ye(s),i(1,0,0,-1,0,s)},r.A_TO_C=function(){return n(function(s,l,u){return E.ARC===s.type?function(f,h,c){var v,d,p,y;f.cX||li(f,h,c);for(var m=Math.min(f.phi1,f.phi2),O=Math.max(f.phi1,f.phi2)-m,b=Math.ceil(O/90),T=new Array(b),_=h,N=c,A=0;A<b;A++){var P=fu(f.phi1,f.phi2,A/b),$=fu(f.phi1,f.phi2,(A+1)/b),V=$-P,B=4/3*Math.tan(V*vt/4),k=[Math.cos(P*vt)-B*Math.sin(P*vt),Math.sin(P*vt)+B*Math.cos(P*vt)],H=k[0],X=k[1],Y=[Math.cos($*vt),Math.sin($*vt)],G=Y[0],U=Y[1],S=[G+B*Math.sin($*vt),U-B*Math.cos($*vt)],w=S[0],R=S[1];T[A]={relative:f.relative,type:E.CURVE_TO};var L=function(j,F){var Q=ji([j*f.rX,F*f.rY],f.xRot),D=Q[0],J=Q[1];return[f.cX+D,f.cY+J]};v=L(H,X),T[A].x1=v[0],T[A].y1=v[1],d=L(w,R),T[A].x2=d[0],T[A].y2=d[1],p=L(G,U),T[A].x=p[0],T[A].y=p[1],f.relative&&(T[A].x1-=_,T[A].y1-=N,T[A].x2-=_,T[A].y2-=N,T[A].x-=_,T[A].y-=N),_=(y=[T[A].x,T[A].y])[0],N=y[1]}return T}(s,s.relative?0:l,s.relative?0:u):s})},r.ANNOTATE_ARCS=function(){return n(function(s,l,u){return s.relative&&(l=0,u=0),E.ARC===s.type&&li(s,l,u),s})},r.CLONE=o,r.CALCULATE_BOUNDS=function(){var s=function(c){var v={};for(var d in c)v[d]=c[d];return v},l=e(),u=a(),f=t(),h=n(function(c,v,d){var p=f(u(l(s(c))));function y(R){R>h.maxX&&(h.maxX=R),R<h.minX&&(h.minX=R)}function m(R){R>h.maxY&&(h.maxY=R),R<h.minY&&(h.minY=R)}if(p.type&E.DRAWING_COMMANDS&&(y(v),m(d)),p.type&E.HORIZ_LINE_TO&&y(p.x),p.type&E.VERT_LINE_TO&&m(p.y),p.type&E.LINE_TO&&(y(p.x),m(p.y)),p.type&E.CURVE_TO){y(p.x),m(p.y);for(var O=0,b=vu(v,p.x1,p.x2,p.x);O<b.length;O++)0<(w=b[O])&&1>w&&y(cu(v,p.x1,p.x2,p.x,w));for(var T=0,_=vu(d,p.y1,p.y2,p.y);T<_.length;T++)0<(w=_[T])&&1>w&&m(cu(d,p.y1,p.y2,p.y,w))}if(p.type&E.ARC){y(p.x),m(p.y),li(p,v,d);for(var N=p.xRot/180*Math.PI,A=Math.cos(N)*p.rX,P=Math.sin(N)*p.rX,$=-Math.sin(N)*p.rY,V=Math.cos(N)*p.rY,B=p.phi1<p.phi2?[p.phi1,p.phi2]:-180>p.phi2?[p.phi2+360,p.phi1+360]:[p.phi2,p.phi1],k=B[0],H=B[1],X=function(R){var L=R[0],j=R[1],F=180*Math.atan2(j,L)/Math.PI;return F<k?F+360:F},Y=0,G=uu($,-A,0).map(X);Y<G.length;Y++)(w=G[Y])>k&&w<H&&y(hu(p.cX,A,$,w));for(var U=0,S=uu(V,-P,0).map(X);U<S.length;U++){var w;(w=S[U])>k&&w<H&&m(hu(p.cY,P,V,w))}}return c});return h.minX=1/0,h.maxX=-1/0,h.minY=1/0,h.maxY=-1/0,h}})(le||(le={}));var Ge,gh=function(){function r(){}return r.prototype.round=function(e){return this.transform(le.ROUND(e))},r.prototype.toAbs=function(){return this.transform(le.TO_ABS())},r.prototype.toRel=function(){return this.transform(le.TO_REL())},r.prototype.normalizeHVZ=function(e,t,a){return this.transform(le.NORMALIZE_HVZ(e,t,a))},r.prototype.normalizeST=function(){return this.transform(le.NORMALIZE_ST())},r.prototype.qtToC=function(){return this.transform(le.QT_TO_C())},r.prototype.aToC=function(){return this.transform(le.A_TO_C())},r.prototype.sanitize=function(e){return this.transform(le.SANITIZE(e))},r.prototype.translate=function(e,t){return this.transform(le.TRANSLATE(e,t))},r.prototype.scale=function(e,t){return this.transform(le.SCALE(e,t))},r.prototype.rotate=function(e,t,a){return this.transform(le.ROTATE(e,t,a))},r.prototype.matrix=function(e,t,a,n,i,o){return this.transform(le.MATRIX(e,t,a,n,i,o))},r.prototype.skewX=function(e){return this.transform(le.SKEW_X(e))},r.prototype.skewY=function(e){return this.transform(le.SKEW_Y(e))},r.prototype.xSymmetry=function(e){return this.transform(le.X_AXIS_SYMMETRY(e))},r.prototype.ySymmetry=function(e){return this.transform(le.Y_AXIS_SYMMETRY(e))},r.prototype.annotateArcs=function(){return this.transform(le.ANNOTATE_ARCS())},r}(),pE=function(r){return r===" "||r==="	"||r==="\r"||r===`
`},gu=function(r){return 48<=r.charCodeAt(0)&&r.charCodeAt(0)<=57},yE=function(r){function e(){var t=r.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return ch(e,r),e.prototype.finish=function(t){if(t===void 0&&(t=[]),this.parse(" ",t),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,a){var n=this;a===void 0&&(a=[]);for(var i=function(h){a.push(h),n.curArgs.length=0,n.canParseCommandOrComma=!0},o=0;o<t.length;o++){var s=t[o],l=!(this.curCommandType!==E.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),u=gu(s)&&(this.curNumber==="0"&&s==="0"||l);if(!gu(s)||u)if(s!=="e"&&s!=="E")if(s!=="-"&&s!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(s!=="."||this.curNumberHasExp||this.curNumberHasDecimal||l){if(this.curNumber&&this.curCommandType!==-1){var f=Number(this.curNumber);if(isNaN(f))throw new SyntaxError("Invalid number ending at "+o);if(this.curCommandType===E.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>f)throw new SyntaxError('Expected positive number, got "'+f+'" at index "'+o+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+o+'"')}this.curArgs.push(f),this.curArgs.length===mE[this.curCommandType]&&(E.HORIZ_LINE_TO===this.curCommandType?i({type:E.HORIZ_LINE_TO,relative:this.curCommandRelative,x:f}):E.VERT_LINE_TO===this.curCommandType?i({type:E.VERT_LINE_TO,relative:this.curCommandRelative,y:f}):this.curCommandType===E.MOVE_TO||this.curCommandType===E.LINE_TO||this.curCommandType===E.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),E.MOVE_TO===this.curCommandType&&(this.curCommandType=E.LINE_TO)):this.curCommandType===E.CURVE_TO?i({type:E.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===E.SMOOTH_CURVE_TO?i({type:E.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.QUAD_TO?i({type:E.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.ARC&&i({type:E.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!pE(s))if(s===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(s!=="+"&&s!=="-"&&s!==".")if(u)this.curNumber=s,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+o+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+s+'" at index '+o+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,s!=="z"&&s!=="Z")if(s==="h"||s==="H")this.curCommandType=E.HORIZ_LINE_TO,this.curCommandRelative=s==="h";else if(s==="v"||s==="V")this.curCommandType=E.VERT_LINE_TO,this.curCommandRelative=s==="v";else if(s==="m"||s==="M")this.curCommandType=E.MOVE_TO,this.curCommandRelative=s==="m";else if(s==="l"||s==="L")this.curCommandType=E.LINE_TO,this.curCommandRelative=s==="l";else if(s==="c"||s==="C")this.curCommandType=E.CURVE_TO,this.curCommandRelative=s==="c";else if(s==="s"||s==="S")this.curCommandType=E.SMOOTH_CURVE_TO,this.curCommandRelative=s==="s";else if(s==="q"||s==="Q")this.curCommandType=E.QUAD_TO,this.curCommandRelative=s==="q";else if(s==="t"||s==="T")this.curCommandType=E.SMOOTH_QUAD_TO,this.curCommandRelative=s==="t";else{if(s!=="a"&&s!=="A")throw new SyntaxError('Unexpected character "'+s+'" at index '+o+".");this.curCommandType=E.ARC,this.curCommandRelative=s==="a"}else a.push({type:E.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=s,this.curNumberHasDecimal=s==="."}else this.curNumber+=s,this.curNumberHasDecimal=!0;else this.curNumber+=s;else this.curNumber+=s,this.curNumberHasExp=!0;else this.curNumber+=s,this.curNumberHasExpDigits=this.curNumberHasExp}return a},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(a,n){n===void 0&&(n=[]);for(var i=0,o=Object.getPrototypeOf(this).parse.call(this,a);i<o.length;i++){var s=o[i],l=t(s);Array.isArray(l)?n.push.apply(n,l):n.push(l)}return n}}})},e}(gh),E=function(r){function e(t){var a=r.call(this)||this;return a.commands=typeof t=="string"?e.parse(t):t,a}return ch(e,r),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=le.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var a=[],n=0,i=this.commands;n<i.length;n++){var o=t(i[n]);Array.isArray(o)?a.push.apply(a,o):a.push(o)}return this.commands=a,this},e.encode=function(t){return dE(t)},e.parse=function(t){var a=new yE,n=[];return a.parse(t,n),a.finish(n),n},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(gh),mE=((Ge={})[E.MOVE_TO]=2,Ge[E.LINE_TO]=2,Ge[E.HORIZ_LINE_TO]=1,Ge[E.VERT_LINE_TO]=1,Ge[E.CLOSE_PATH]=0,Ge[E.QUAD_TO]=4,Ge[E.SMOOTH_QUAD_TO]=2,Ge[E.CURVE_TO]=6,Ge[E.SMOOTH_CURVE_TO]=4,Ge[E.ARC]=7,Ge),bE=Ga.PROPER,TE=Qt,EE=Se,du=ot,OE=ne,SE=Ps,Ds="toString",dh=RegExp.prototype,ph=dh[Ds],xE=OE(function(){return ph.call({source:"a",flags:"b"})!=="/a/b"}),wE=bE&&ph.name!==Ds;(xE||wE)&&TE(dh,Ds,function(){var e=EE(this),t=du(e.source),a=du(SE(e));return"/"+t+"/"+a},{unsafe:!0});function Ca(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(e){return typeof e}:Ca=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(r)}function AE(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var CE=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],$E=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function PE(r,e,t,a,n){if(typeof r=="string"&&(r=document.getElementById(r)),!r||Ca(r)!=="object"||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=r.getContext("2d");try{return i.getImageData(e,t,a,n)}catch(o){throw new Error("unable to access image data: "+o)}}function RE(r,e,t,a,n,i){if(!(isNaN(i)||i<1)){i|=0;var o=PE(r,e,t,a,n);o=NE(o,e,t,a,n,i),r.getContext("2d").putImageData(o,e,t)}}function NE(r,e,t,a,n,i){for(var o=r.data,s=2*i+1,l=a-1,u=n-1,f=i+1,h=f*(f+1)/2,c=new pu,v=c,d,p=1;p<s;p++)v=v.next=new pu,p===f&&(d=v);v.next=c;for(var y=null,m=null,O=0,b=0,T=CE[i],_=$E[i],N=0;N<n;N++){v=c;for(var A=o[b],P=o[b+1],$=o[b+2],V=o[b+3],B=0;B<f;B++)v.r=A,v.g=P,v.b=$,v.a=V,v=v.next;for(var k=0,H=0,X=0,Y=0,G=f*A,U=f*P,S=f*$,w=f*V,R=h*A,L=h*P,j=h*$,F=h*V,Q=1;Q<f;Q++){var D=b+((l<Q?l:Q)<<2),J=o[D],q=o[D+1],Ee=o[D+2],Ue=o[D+3],Ie=f-Q;R+=(v.r=J)*Ie,L+=(v.g=q)*Ie,j+=(v.b=Ee)*Ie,F+=(v.a=Ue)*Ie,k+=J,H+=q,X+=Ee,Y+=Ue,v=v.next}y=c,m=d;for(var $e=0;$e<a;$e++){var Me=F*T>>>_;if(o[b+3]=Me,Me!==0){var Pe=255/Me;o[b]=(R*T>>>_)*Pe,o[b+1]=(L*T>>>_)*Pe,o[b+2]=(j*T>>>_)*Pe}else o[b]=o[b+1]=o[b+2]=0;R-=G,L-=U,j-=S,F-=w,G-=y.r,U-=y.g,S-=y.b,w-=y.a;var fe=$e+i+1;fe=O+(fe<l?fe:l)<<2,k+=y.r=o[fe],H+=y.g=o[fe+1],X+=y.b=o[fe+2],Y+=y.a=o[fe+3],R+=k,L+=H,j+=X,F+=Y,y=y.next;var Tt=m,Je=Tt.r,Zt=Tt.g,Jt=Tt.b,lt=Tt.a;G+=Je,U+=Zt,S+=Jt,w+=lt,k-=Je,H-=Zt,X-=Jt,Y-=lt,m=m.next,b+=4}O+=a}for(var Be=0;Be<a;Be++){b=Be<<2;var Le=o[b],et=o[b+1],tt=o[b+2],pe=o[b+3],Nt=f*Le,ut=f*et,rt=f*tt,at=f*pe,_t=h*Le,It=h*et,Mt=h*tt,Et=h*pe;v=c;for(var br=0;br<f;br++)v.r=Le,v.g=et,v.b=tt,v.a=pe,v=v.next;for(var Lt=a,Ot=0,Re=0,nt=0,Dt=0,St=1;St<=i;St++){b=Lt+Be<<2;var er=f-St;_t+=(v.r=Le=o[b])*er,It+=(v.g=et=o[b+1])*er,Mt+=(v.b=tt=o[b+2])*er,Et+=(v.a=pe=o[b+3])*er,Dt+=Le,Ot+=et,Re+=tt,nt+=pe,v=v.next,St<u&&(Lt+=a)}b=Be,y=c,m=d;for(var je=0;je<n;je++){var ye=b<<2;o[ye+3]=pe=Et*T>>>_,pe>0?(pe=255/pe,o[ye]=(_t*T>>>_)*pe,o[ye+1]=(It*T>>>_)*pe,o[ye+2]=(Mt*T>>>_)*pe):o[ye]=o[ye+1]=o[ye+2]=0,_t-=Nt,It-=ut,Mt-=rt,Et-=at,Nt-=y.r,ut-=y.g,rt-=y.b,at-=y.a,ye=Be+((ye=je+f)<u?ye:u)*a<<2,_t+=Dt+=y.r=o[ye],It+=Ot+=y.g=o[ye+1],Mt+=Re+=y.b=o[ye+2],Et+=nt+=y.a=o[ye+3],y=y.next,Nt+=Le=m.r,ut+=et=m.g,rt+=tt=m.b,at+=pe=m.a,Dt-=Le,Ot-=et,Re-=tt,nt-=pe,m=m.next,b+=a}}return r}var pu=function r(){AE(this,r),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function _E(){var{DOMParser:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:r,createCanvas(t,a){return new OffscreenCanvas(t,a)},createImage(t){return pt(function*(){var a=yield fetch(t),n=yield a.blob(),i=yield createImageBitmap(n);return i})()}};return(typeof DOMParser<"u"||typeof r>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function IE(r){var{DOMParser:e,canvas:t,fetch:a}=r;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:a,createCanvas:t.createCanvas,createImage:t.loadImage}}var ME=Object.freeze({__proto__:null,offscreen:_E,node:IE});function Kt(r){return r.replace(/(?!\u3000)\s+/gm," ")}function yh(r){return r.replace(/^[\n \t]+/,"")}function mh(r){return r.replace(/[\n \t]+$/,"")}function Ae(r){var e=(r||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var LE=/^[A-Z-]+$/;function bh(r){return LE.test(r)?r.toLowerCase():r}function ks(r){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(r)||[];return e[2]||e[3]||e[4]}function Th(r){if(!r.startsWith("rgb"))return r;var e=3,t=r.replace(/\d+(\.\d+)?/g,(a,n)=>e--&&n?String(Math.round(parseFloat(a))):a);return t}var DE=/(\[[^\]]+\])/g,kE=/(#[^\s+>~.[:]+)/g,FE=/(\.[^\s+>~.[:]+)/g,VE=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,UE=/(:[\w-]+\([^)]*\))/gi,BE=/(:[^\s+>~.[:]+)/g,jE=/([^\s+>~.[:]+)/g;function jt(r,e){var t=e.exec(r);return t?[r.replace(e," "),t.length]:[r,0]}function Eh(r){var e=[0,0,0],t=r.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),a=0;return[t,a]=jt(t,DE),e[1]+=a,[t,a]=jt(t,kE),e[0]+=a,[t,a]=jt(t,FE),e[1]+=a,[t,a]=jt(t,VE),e[2]+=a,[t,a]=jt(t,UE),e[1]+=a,[t,a]=jt(t,BE),e[1]+=a,t=t.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[t,a]=jt(t,jE),e[2]+=a,e.join("")}var Wt=1e-8;function zi(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))}function Da(r,e){return(r[0]*e[0]+r[1]*e[1])/(zi(r)*zi(e))}function Hi(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(Da(r,e))}function Gi(r){return r*r*r}function Wi(r){return 3*r*r*(1-r)}function Yi(r){return 3*r*(1-r)*(1-r)}function Xi(r){return(1-r)*(1-r)*(1-r)}function qi(r){return r*r}function Qi(r){return 2*r*(1-r)}function Ki(r){return(1-r)*(1-r)}class M{constructor(e,t,a){this.document=e,this.name=t,this.value=a,this.isNormalizedColor=!1}static empty(e){return new M(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:t,name:a}=this;return Kt(this.getString()).trim().split(e).map(n=>new M(t,a,n))}hasValue(e){var{value:t}=this;return t!==null&&t!==""&&(e||t!==0)&&typeof t<"u"}isString(e){var{value:t}=this,a=typeof t=="string";return!a||!e?a:e.test(t)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:t}=this,a=parseFloat(t);return this.isString(/%$/)&&(a/=100),a}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=Th(t),this.value=t),t}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[a,n]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&n):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(a);default:{var o=this.getNumber();return t&&o<1?o*i.computeSize(a):o}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}getFillStyleDefinition(e,t){var a=this.getDefinition();if(!a)return null;if(typeof a.createGradient=="function")return a.createGradient(this.document.ctx,e,t);if(typeof a.createPattern=="function"){if(a.getHrefAttribute().hasValue()){var n=a.getAttribute("patternTransform");a=a.getHrefAttribute().getDefinition(),n.hasValue()&&a.getAttribute("patternTransform",!0).setValue(n.value)}return a.createPattern(this.document.ctx,e,t)}return null}getTextBaseline(){return this.hasValue()?M.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var t=this.getColor(),a=t.length,n=0,i=0;i<a&&(t[i]===","&&n++,n!==3);i++);if(e.hasValue()&&this.isString()&&n!==3){var o=new Ui(t);o.ok&&(o.alpha=e.getNumber(),t=o.toRGBA())}return new M(this.document,this.name,t)}}M.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Oh{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,t){this.viewPorts.push({width:e,height:t})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ae{constructor(e,t){this.x=e,this.y=t}static parse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[a=t,n=t]=Ae(e);return new ae(a,n)}static parseScale(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[a=t,n=a]=Ae(e);return new ae(a,n)}static parsePath(e){for(var t=Ae(e),a=t.length,n=[],i=0;i<a;i+=2)n.push(new ae(t[i],t[i+1]));return n}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:t,y:a}=this,n=t*e[0]+a*e[2]+e[4],i=t*e[1]+a*e[3]+e[5];this.x=n,this.y=i}}class Sh{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:t,onMouseMove:a}=this,n=e.ctx.canvas;n.onclick=t,n.onmousemove=a,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:t,eventElements:a}=this,{style:n}=e.ctx.canvas;n&&(n.cursor=""),t.forEach((i,o)=>{for(var{run:s}=i,l=a[o];l;)s(l),l=l.parent}),this.events=[],this.eventElements=[]}}checkPath(e,t){if(!(!this.working||!t)){var{events:a,eventElements:n}=this;a.forEach((i,o)=>{var{x:s,y:l}=i;!n[o]&&t.isPointInPath&&t.isPointInPath(s,l)&&(n[o]=e)})}}checkBoundingBox(e,t){if(!(!this.working||!t)){var{events:a,eventElements:n}=this;a.forEach((i,o)=>{var{x:s,y:l}=i;!n[o]&&t.isPointInBox(s,l)&&(n[o]=e)})}}mapXY(e,t){for(var{window:a,ctx:n}=this.screen,i=new ae(e,t),o=n.canvas;o;)i.x-=o.offsetLeft,i.y-=o.offsetTop,o=o.offsetParent;return a.scrollX&&(i.x+=a.scrollX),a.scrollY&&(i.y+=a.scrollY),i}onClick(e){var{x:t,y:a}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:t,y:a,run(n){n.onClick&&n.onClick()}})}onMouseMove(e){var{x:t,y:a}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:t,y:a,run(n){n.onMouseMove&&n.onMouseMove()}})}}var xh=typeof window<"u"?window:null,wh=typeof fetch<"u"?fetch.bind(void 0):null;class Wr{constructor(e){var{fetch:t=wh,window:a=xh}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Oh,this.mouse=new Sh(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=a,this.fetch=t}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(t=>t());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:t,ctx:a,aspectRatio:n,width:i,desiredWidth:o,height:s,desiredHeight:l,minX:u=0,minY:f=0,refX:h,refY:c,clip:v=!1,clipX:d=0,clipY:p=0}=e,y=Kt(n).replace(/^defer\s/,""),[m,O]=y.split(" "),b=m||"xMidYMid",T=O||"meet",_=i/o,N=s/l,A=Math.min(_,N),P=Math.max(_,N),$=o,V=l;T==="meet"&&($*=A,V*=A),T==="slice"&&($*=P,V*=P);var B=new M(t,"refX",h),k=new M(t,"refY",c),H=B.hasValue()&&k.hasValue();if(H&&a.translate(-A*B.getPixels("x"),-A*k.getPixels("y")),v){var X=A*d,Y=A*p;a.beginPath(),a.moveTo(X,Y),a.lineTo(i,Y),a.lineTo(i,s),a.lineTo(X,s),a.closePath(),a.clip()}if(!H){var G=T==="meet"&&A===N,U=T==="slice"&&P===N,S=T==="meet"&&A===_,w=T==="slice"&&P===_;b.startsWith("xMid")&&(G||U)&&a.translate(i/2-$/2,0),b.endsWith("YMid")&&(S||w)&&a.translate(0,s/2-V/2),b.startsWith("xMax")&&(G||U)&&a.translate(i-$,0),b.endsWith("YMax")&&(S||w)&&a.translate(0,s-V)}switch(!0){case b==="none":a.scale(_,N);break;case T==="meet":a.scale(A,A);break;case T==="slice":a.scale(P,P);break}a.translate(-u,-f)}start(e){var{enableRedraw:t=!1,ignoreMouse:a=!1,ignoreAnimation:n=!1,ignoreDimensions:i=!1,ignoreClear:o=!1,forceRedraw:s,scaleWidth:l,scaleHeight:u,offsetX:f,offsetY:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:c,mouse:v}=this,d=1e3/c;if(this.frameDuration=d,this.readyPromise=new Promise(b=>{this.resolveReady=b}),this.isReady()&&this.render(e,i,o,l,u,f,h),!!t){var p=Date.now(),y=p,m=0,O=()=>{p=Date.now(),m=p-y,m>=d&&(y=p-m%d,this.shouldUpdate(n,s)&&(this.render(e,i,o,l,u,f,h),v.runEvents())),this.intervalId=oi(O)};a||v.start(),this.intervalId=oi(O)}}stop(){this.intervalId&&(oi.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,t){if(!e){var{frameDuration:a}=this,n=this.animations.reduce((i,o)=>o.update(a)||i,!1);if(n)return!0}return!!(typeof t=="function"&&t()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,t,a,n,i,o,s){var{CLIENT_WIDTH:l,CLIENT_HEIGHT:u,viewPort:f,ctx:h,isFirstRender:c}=this,v=h.canvas;f.clear(),v.width&&v.height?f.setCurrent(v.width,v.height):f.setCurrent(l,u);var d=e.getStyle("width"),p=e.getStyle("height");!t&&(c||typeof n!="number"&&typeof i!="number")&&(d.hasValue()&&(v.width=d.getPixels("x"),v.style&&(v.style.width="".concat(v.width,"px"))),p.hasValue()&&(v.height=p.getPixels("y"),v.style&&(v.style.height="".concat(v.height,"px"))));var y=v.clientWidth||v.width,m=v.clientHeight||v.height;if(t&&d.hasValue()&&p.hasValue()&&(y=d.getPixels("x"),m=p.getPixels("y")),f.setCurrent(y,m),typeof o=="number"&&e.getAttribute("x",!0).setValue(o),typeof s=="number"&&e.getAttribute("y",!0).setValue(s),typeof n=="number"||typeof i=="number"){var O=Ae(e.getAttribute("viewBox").getString()),b=0,T=0;if(typeof n=="number"){var _=e.getStyle("width");_.hasValue()?b=_.getPixels("x")/n:isNaN(O[2])||(b=O[2]/n)}if(typeof i=="number"){var N=e.getStyle("height");N.hasValue()?T=N.getPixels("y")/i:isNaN(O[3])||(T=O[3]/i)}b||(b=T),T||(T=b),e.getAttribute("width",!0).setValue(n),e.getAttribute("height",!0).setValue(i);var A=e.getStyle("transform",!0,!0);A.setValue("".concat(A.getString()," scale(").concat(1/b,", ").concat(1/T,")"))}a||h.clearRect(0,0,y,m),e.render(h),c&&(this.isFirstRender=!1)}}Wr.defaultWindow=xh;Wr.defaultFetch=wh;var{defaultFetch:zE}=Wr,HE=typeof DOMParser<"u"?DOMParser:null;class $a{constructor(){var{fetch:e=zE,DOMParser:t=HE}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=t}parse(e){var t=this;return pt(function*(){return e.startsWith("<")?t.parseFromString(e):t.load(e)})()}parseFromString(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(t.parseFromString(e,"text/xml"))}}checkDocument(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}load(e){var t=this;return pt(function*(){var a=yield t.fetch(e),n=yield a.text();return t.parseFromString(n)})()}}class Ah{constructor(e,t){this.type="translate",this.point=null,this.point=ae.parse(t)}apply(e){var{x:t,y:a}=this.point;e.translate(t||0,a||0)}unapply(e){var{x:t,y:a}=this.point;e.translate(-1*t||0,-1*a||0)}applyToPoint(e){var{x:t,y:a}=this.point;e.applyTransform([1,0,0,1,t||0,a||0])}}class Ch{constructor(e,t,a){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var n=Ae(t);this.angle=new M(e,"angle",n[0]),this.originX=a[0],this.originY=a[1],this.cx=n[1]||0,this.cy=n[2]||0}apply(e){var{cx:t,cy:a,originX:n,originY:i,angle:o}=this,s=t+n.getPixels("x"),l=a+i.getPixels("y");e.translate(s,l),e.rotate(o.getRadians()),e.translate(-s,-l)}unapply(e){var{cx:t,cy:a,originX:n,originY:i,angle:o}=this,s=t+n.getPixels("x"),l=a+i.getPixels("y");e.translate(s,l),e.rotate(-1*o.getRadians()),e.translate(-s,-l)}applyToPoint(e){var{cx:t,cy:a,angle:n}=this,i=n.getRadians();e.applyTransform([1,0,0,1,t||0,a||0]),e.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),e.applyTransform([1,0,0,1,-t||0,-a||0])}}class $h{constructor(e,t,a){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var n=ae.parseScale(t);(n.x===0||n.y===0)&&(n.x=Wt,n.y=Wt),this.scale=n,this.originX=a[0],this.originY=a[1]}apply(e){var{scale:{x:t,y:a},originX:n,originY:i}=this,o=n.getPixels("x"),s=i.getPixels("y");e.translate(o,s),e.scale(t,a||t),e.translate(-o,-s)}unapply(e){var{scale:{x:t,y:a},originX:n,originY:i}=this,o=n.getPixels("x"),s=i.getPixels("y");e.translate(o,s),e.scale(1/t,1/a||t),e.translate(-o,-s)}applyToPoint(e){var{x:t,y:a}=this.scale;e.applyTransform([t||0,0,0,a||0,0,0])}}class Fs{constructor(e,t,a){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Ae(t),this.originX=a[0],this.originY=a[1]}apply(e){var{originX:t,originY:a,matrix:n}=this,i=t.getPixels("x"),o=a.getPixels("y");e.translate(i,o),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),e.translate(-i,-o)}unapply(e){var{originX:t,originY:a,matrix:n}=this,i=n[0],o=n[2],s=n[4],l=n[1],u=n[3],f=n[5],h=0,c=0,v=1,d=1/(i*(u*v-f*c)-o*(l*v-f*h)+s*(l*c-u*h)),p=t.getPixels("x"),y=a.getPixels("y");e.translate(p,y),e.transform(d*(u*v-f*c),d*(f*h-l*v),d*(s*c-o*v),d*(i*v-s*h),d*(o*f-s*u),d*(s*l-i*f)),e.translate(-p,-y)}applyToPoint(e){e.applyTransform(this.matrix)}}class Vs extends Fs{constructor(e,t,a){super(e,t,a),this.type="skew",this.angle=null,this.angle=new M(e,"angle",t)}}class Ph extends Vs{constructor(e,t,a){super(e,t,a),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Rh extends Vs{constructor(e,t,a){super(e,t,a),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function GE(r){return Kt(r).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function WE(r){var[e,t]=r.split("(");return[e.trim(),t.trim().replace(")","")]}class Pt{constructor(e,t,a){this.document=e,this.transforms=[];var n=GE(t);n.forEach(i=>{if(i!=="none"){var[o,s]=WE(i),l=Pt.transformTypes[o];typeof l<"u"&&this.transforms.push(new l(this.document,s,a))}})}static fromElement(e,t){var a=t.getStyle("transform",!1,!0),[n,i=n]=t.getStyle("transform-origin",!1,!0).split(),o=[n,i];return a.hasValue()?new Pt(e,a.getString(),o):null}apply(e){for(var{transforms:t}=this,a=t.length,n=0;n<a;n++)t[n].apply(e)}unapply(e){for(var{transforms:t}=this,a=t.length,n=a-1;n>=0;n--)t[n].unapply(e)}applyToPoint(e){for(var{transforms:t}=this,a=t.length,n=0;n<a;n++)t[n].applyToPoint(e)}}Pt.transformTypes={translate:Ah,rotate:Ch,scale:$h,matrix:Fs,skewX:Ph,skewY:Rh};class ee{constructor(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=t,this.captureTextNodes=a,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!t||t.nodeType!==1)){if(Array.from(t.attributes).forEach(s=>{var l=bh(s.nodeName);this.attributes[l]=new M(e,l,s.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var n=this.getAttribute("style").getString().split(";").map(s=>s.trim());n.forEach(s=>{if(s){var[l,u]=s.split(":").map(f=>f.trim());this.styles[l]=new M(e,l,u)}})}var{definitions:i}=e,o=this.getAttribute("id");o.hasValue()&&(i[o.getString()]||(i[o.getString()]=this)),Array.from(t.childNodes).forEach(s=>{if(s.nodeType===1)this.addChild(s);else if(a&&(s.nodeType===3||s.nodeType===4)){var l=e.createTextNode(s);l.getText().length>0&&this.addChild(l)}})}}getAttribute(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.attributes[e];if(!a&&t){var n=new M(this.document,e,"");return this.attributes[e]=n,n}return a||M.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return M.empty(this.document)}getStyle(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=this.styles[e];if(n)return n;var i=this.getAttribute(e);if(i!=null&&i.hasValue())return this.styles[e]=i,i;if(!a){var{parent:o}=this;if(o){var s=o.getStyle(e);if(s!=null&&s.hasValue())return s}}if(t){var l=new M(this.document,e,"");return this.styles[e]=l,l}return n||M.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var a=this.getStyle("filter").getDefinition();a&&(this.applyEffects(e),a.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var t=Pt.fromElement(this.document,this);t&&t.apply(e);var a=this.getStyle("clip-path",!1,!0);if(a.hasValue()){var n=a.getDefinition();n&&n.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(t=>{t.render(e)})}addChild(e){var t=e instanceof ee?e:this.document.createElement(e);t.parent=this,ee.ignoreChildTypes.includes(t.type)||this.children.push(t)}matchesSelector(e){var t,{node:a}=this;if(typeof a.matches=="function")return a.matches(e);var n=(t=a.getAttribute)===null||t===void 0?void 0:t.call(a,"class");return!n||n===""?!1:n.split(" ").some(i=>".".concat(i)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:t}=this.document;for(var a in e)if(!a.startsWith("@")&&this.matchesSelector(a)){var n=e[a],i=t[a];if(n)for(var o in n){var s=this.stylesSpecificity[o];typeof s>"u"&&(s="000"),i>=s&&(this.styles[o]=n[o],this.stylesSpecificity[o]=i)}}}removeStyles(e,t){var a=t.reduce((n,i)=>{var o=e.getStyle(i);if(!o.hasValue())return n;var s=o.getString();return o.setValue(""),[...n,[i,s]]},[]);return a}restoreStyles(e,t){t.forEach(a=>{var[n,i]=a;e.getStyle(n,!0).setValue(i)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}}ee.ignoreChildTypes=["title"];class Nh extends ee{constructor(e,t,a){super(e,t,a)}}function YE(r){var e=r.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function XE(r){return typeof process>"u"?r:r.trim().split(",").map(YE).join(",")}function qE(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function QE(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class Te{constructor(e,t,a,n,i,o){var s=o?typeof o=="string"?Te.parse(o):o:{};this.fontFamily=i||s.fontFamily,this.fontSize=n||s.fontSize,this.fontStyle=e||s.fontStyle,this.fontWeight=a||s.fontWeight,this.fontVariant=t||s.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a="",n="",i="",o="",s="",l=Kt(e).trim().split(" "),u={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return l.forEach(f=>{switch(!0){case(!u.fontStyle&&Te.styles.includes(f)):f!=="inherit"&&(a=f),u.fontStyle=!0;break;case(!u.fontVariant&&Te.variants.includes(f)):f!=="inherit"&&(n=f),u.fontStyle=!0,u.fontVariant=!0;break;case(!u.fontWeight&&Te.weights.includes(f)):f!=="inherit"&&(i=f),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0;break;case!u.fontSize:f!=="inherit"&&([o]=f.split("/")),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0,u.fontSize=!0;break;default:f!=="inherit"&&(s+=f)}}),new Te(a,n,i,o,s,t)}toString(){return[qE(this.fontStyle),this.fontVariant,QE(this.fontWeight),this.fontSize,XE(this.fontFamily)].join(" ").trim()}}Te.styles="normal|italic|oblique|inherit";Te.variants="normal|small-caps|inherit";Te.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Ve{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=t,this.x2=a,this.y2=n,this.addPoint(e,t),this.addPoint(a,n)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,t){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:t,y1:a,x2:n,y2:i}=e;this.addPoint(t,a),this.addPoint(n,i)}}sumCubic(e,t,a,n,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*a+3*(1-e)*Math.pow(e,2)*n+Math.pow(e,3)*i}bezierCurveAdd(e,t,a,n,i){var o=6*t-12*a+6*n,s=-3*t+9*a-9*n+3*i,l=3*a-3*t;if(s===0){if(o===0)return;var u=-l/o;0<u&&u<1&&(e?this.addX(this.sumCubic(u,t,a,n,i)):this.addY(this.sumCubic(u,t,a,n,i)));return}var f=Math.pow(o,2)-4*l*s;if(!(f<0)){var h=(-o+Math.sqrt(f))/(2*s);0<h&&h<1&&(e?this.addX(this.sumCubic(h,t,a,n,i)):this.addY(this.sumCubic(h,t,a,n,i)));var c=(-o-Math.sqrt(f))/(2*s);0<c&&c<1&&(e?this.addX(this.sumCubic(c,t,a,n,i)):this.addY(this.sumCubic(c,t,a,n,i)))}}addBezierCurve(e,t,a,n,i,o,s,l){this.addPoint(e,t),this.addPoint(s,l),this.bezierCurveAdd(!0,e,a,i,s),this.bezierCurveAdd(!1,t,n,o,l)}addQuadraticCurve(e,t,a,n,i,o){var s=e+.6666666666666666*(a-e),l=t+2/3*(n-t),u=s+1/3*(i-e),f=l+1/3*(o-t);this.addBezierCurve(e,t,s,u,l,f,i,o)}isPointInBox(e,t){var{x1:a,y1:n,x2:i,y2:o}=this;return a<=e&&e<=i&&n<=t&&t<=o}}class z extends E{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new ae(0,0),this.control=new ae(0,0),this.current=new ae(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:t}=this;return e>=t.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",a=new ae(this.command[e],this.command[t]);return this.makeAbsolute(a)}getAsControlPoint(e,t){var a=this.getPoint(e,t);return this.control=a,a}getAsCurrentPoint(e,t){var a=this.getPoint(e,t);return this.current=a,a}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==E.CURVE_TO&&e!==E.SMOOTH_CURVE_TO&&e!==E.QUAD_TO&&e!==E.SMOOTH_QUAD_TO)return this.current;var{current:{x:t,y:a},control:{x:n,y:i}}=this,o=new ae(2*t-n,2*a-i);return o}makeAbsolute(e){if(this.command.relative){var{x:t,y:a}=this.current;e.x+=t,e.y+=a}return e}addMarker(e,t,a){var{points:n,angles:i}=this;a&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=n[n.length-1].angleTo(a)),this.addMarkerAngle(e,t?t.angleTo(e):null)}addMarkerAngle(e,t){this.points.push(e),this.angles.push(t)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,t=e.length,a=0;a<t;a++)if(!e[a]){for(var n=a+1;n<t;n++)if(e[n]){e[a]=e[n];break}}return e}}class Rt extends ee{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,t=this;t;){var a=t.getStyle("opacity",!1,!0);a.hasValue(!0)&&(e*=a.getNumber()),t=t.parent}return e}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t){var a=this.getStyle("fill"),n=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),o=this.getStyle("stroke-opacity");if(a.isUrlDefinition()){var s=a.getFillStyleDefinition(this,n);s&&(e.fillStyle=s)}else if(a.hasValue()){a.getString()==="currentColor"&&a.setValue(this.getStyle("color").getColor());var l=a.getColor();l!=="inherit"&&(e.fillStyle=l==="none"?"rgba(0,0,0,0)":l)}if(n.hasValue()){var u=new M(this.document,"fill",e.fillStyle).addOpacity(n).getColor();e.fillStyle=u}if(i.isUrlDefinition()){var f=i.getFillStyleDefinition(this,o);f&&(e.strokeStyle=f)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());var h=i.getString();h!=="inherit"&&(e.strokeStyle=h==="none"?"rgba(0,0,0,0)":h)}if(o.hasValue()){var c=new M(this.document,"stroke",e.strokeStyle).addOpacity(o).getString();e.strokeStyle=c}var v=this.getStyle("stroke-width");if(v.hasValue()){var d=v.getPixels();e.lineWidth=d||Wt}var p=this.getStyle("stroke-linecap"),y=this.getStyle("stroke-linejoin"),m=this.getStyle("stroke-miterlimit"),O=this.getStyle("stroke-dasharray"),b=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(e.lineCap=p.getString()),y.hasValue()&&(e.lineJoin=y.getString()),m.hasValue()&&(e.miterLimit=m.getNumber()),O.hasValue()&&O.getString()!=="none"){var T=Ae(O.getString());typeof e.setLineDash<"u"?e.setLineDash(T):typeof e.webkitLineDash<"u"?e.webkitLineDash=T:typeof e.mozDash<"u"&&!(T.length===1&&T[0]===0)&&(e.mozDash=T);var _=b.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=_:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=_:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=_)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var N=this.getStyle("font"),A=this.getStyle("font-style"),P=this.getStyle("font-variant"),$=this.getStyle("font-weight"),V=this.getStyle("font-size"),B=this.getStyle("font-family"),k=new Te(A.getString(),P.getString(),$.getString(),V.hasValue()?"".concat(V.getPixels(!0),"px"):"",B.getString(),Te.parse(N.getString(),e.font));A.setValue(k.fontStyle),P.setValue(k.fontVariant),$.setValue(k.fontWeight),V.setValue(k.fontSize),B.setValue(k.fontFamily),e.font=k.toString(),V.isPixels()&&(this.document.emSize=V.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Z extends Rt{constructor(e,t,a){super(e,t,a),this.type="path",this.pathParser=null,this.pathParser=new z(this.getAttribute("d").getString())}path(e){var{pathParser:t}=this,a=new Ve;for(t.reset(),e&&e.beginPath();!t.isEnd();)switch(t.next().type){case z.MOVE_TO:this.pathM(e,a);break;case z.LINE_TO:this.pathL(e,a);break;case z.HORIZ_LINE_TO:this.pathH(e,a);break;case z.VERT_LINE_TO:this.pathV(e,a);break;case z.CURVE_TO:this.pathC(e,a);break;case z.SMOOTH_CURVE_TO:this.pathS(e,a);break;case z.QUAD_TO:this.pathQ(e,a);break;case z.SMOOTH_QUAD_TO:this.pathT(e,a);break;case z.ARC:this.pathA(e,a);break;case z.CLOSE_PATH:this.pathZ(e,a);break}return a}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,t=e.getMarkerPoints(),a=e.getMarkerAngles(),n=t.map((i,o)=>[i,a[o]]);return n}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");e.fillStyle!==""&&(t.getString("inherit")!=="inherit"?e.fill(t.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var a=this.getMarkers();if(a){var n=a.length-1,i=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(i.isUrlDefinition()){var l=i.getDefinition(),[u,f]=a[0];l.render(e,u,f)}if(o.isUrlDefinition())for(var h=o.getDefinition(),c=1;c<n;c++){var[v,d]=a[c];h.render(e,v,d)}if(s.isUrlDefinition()){var p=s.getDefinition(),[y,m]=a[n];p.render(e,y,m)}}}static pathM(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}pathM(e,t){var{pathParser:a}=this,{point:n}=Z.pathM(a),{x:i,y:o}=n;a.addMarker(n),t.addPoint(i,o),e&&e.moveTo(i,o)}static pathL(e){var{current:t}=e,a=e.getAsCurrentPoint();return{current:t,point:a}}pathL(e,t){var{pathParser:a}=this,{current:n,point:i}=Z.pathL(a),{x:o,y:s}=i;a.addMarker(i,n),t.addPoint(o,s),e&&e.lineTo(o,s)}static pathH(e){var{current:t,command:a}=e,n=new ae((a.relative?t.x:0)+a.x,t.y);return e.current=n,{current:t,point:n}}pathH(e,t){var{pathParser:a}=this,{current:n,point:i}=Z.pathH(a),{x:o,y:s}=i;a.addMarker(i,n),t.addPoint(o,s),e&&e.lineTo(o,s)}static pathV(e){var{current:t,command:a}=e,n=new ae(t.x,(a.relative?t.y:0)+a.y);return e.current=n,{current:t,point:n}}pathV(e,t){var{pathParser:a}=this,{current:n,point:i}=Z.pathV(a),{x:o,y:s}=i;a.addMarker(i,n),t.addPoint(o,s),e&&e.lineTo(o,s)}static pathC(e){var{current:t}=e,a=e.getPoint("x1","y1"),n=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:t,point:a,controlPoint:n,currentPoint:i}}pathC(e,t){var{pathParser:a}=this,{current:n,point:i,controlPoint:o,currentPoint:s}=Z.pathC(a);a.addMarker(s,o,i),t.addBezierCurve(n.x,n.y,i.x,i.y,o.x,o.y,s.x,s.y),e&&e.bezierCurveTo(i.x,i.y,o.x,o.y,s.x,s.y)}static pathS(e){var{current:t}=e,a=e.getReflectedControlPoint(),n=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:t,point:a,controlPoint:n,currentPoint:i}}pathS(e,t){var{pathParser:a}=this,{current:n,point:i,controlPoint:o,currentPoint:s}=Z.pathS(a);a.addMarker(s,o,i),t.addBezierCurve(n.x,n.y,i.x,i.y,o.x,o.y,s.x,s.y),e&&e.bezierCurveTo(i.x,i.y,o.x,o.y,s.x,s.y)}static pathQ(e){var{current:t}=e,a=e.getAsControlPoint("x1","y1"),n=e.getAsCurrentPoint();return{current:t,controlPoint:a,currentPoint:n}}pathQ(e,t){var{pathParser:a}=this,{current:n,controlPoint:i,currentPoint:o}=Z.pathQ(a);a.addMarker(o,i,i),t.addQuadraticCurve(n.x,n.y,i.x,i.y,o.x,o.y),e&&e.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathT(e){var{current:t}=e,a=e.getReflectedControlPoint();e.control=a;var n=e.getAsCurrentPoint();return{current:t,controlPoint:a,currentPoint:n}}pathT(e,t){var{pathParser:a}=this,{current:n,controlPoint:i,currentPoint:o}=Z.pathT(a);a.addMarker(o,i,i),t.addQuadraticCurve(n.x,n.y,i.x,i.y,o.x,o.y),e&&e.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathA(e){var{current:t,command:a}=e,{rX:n,rY:i,xRot:o,lArcFlag:s,sweepFlag:l}=a,u=o*(Math.PI/180),f=e.getAsCurrentPoint(),h=new ae(Math.cos(u)*(t.x-f.x)/2+Math.sin(u)*(t.y-f.y)/2,-Math.sin(u)*(t.x-f.x)/2+Math.cos(u)*(t.y-f.y)/2),c=Math.pow(h.x,2)/Math.pow(n,2)+Math.pow(h.y,2)/Math.pow(i,2);c>1&&(n*=Math.sqrt(c),i*=Math.sqrt(c));var v=(s===l?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(i,2)-Math.pow(n,2)*Math.pow(h.y,2)-Math.pow(i,2)*Math.pow(h.x,2))/(Math.pow(n,2)*Math.pow(h.y,2)+Math.pow(i,2)*Math.pow(h.x,2)));isNaN(v)&&(v=0);var d=new ae(v*n*h.y/i,v*-i*h.x/n),p=new ae((t.x+f.x)/2+Math.cos(u)*d.x-Math.sin(u)*d.y,(t.y+f.y)/2+Math.sin(u)*d.x+Math.cos(u)*d.y),y=Hi([1,0],[(h.x-d.x)/n,(h.y-d.y)/i]),m=[(h.x-d.x)/n,(h.y-d.y)/i],O=[(-h.x-d.x)/n,(-h.y-d.y)/i],b=Hi(m,O);return Da(m,O)<=-1&&(b=Math.PI),Da(m,O)>=1&&(b=0),{currentPoint:f,rX:n,rY:i,sweepFlag:l,xAxisRotation:u,centp:p,a1:y,ad:b}}pathA(e,t){var{pathParser:a}=this,{currentPoint:n,rX:i,rY:o,sweepFlag:s,xAxisRotation:l,centp:u,a1:f,ad:h}=Z.pathA(a),c=1-s?1:-1,v=f+c*(h/2),d=new ae(u.x+i*Math.cos(v),u.y+o*Math.sin(v));if(a.addMarkerAngle(d,v-c*Math.PI/2),a.addMarkerAngle(n,v-c*Math.PI),t.addPoint(n.x,n.y),e&&!isNaN(f)&&!isNaN(h)){var p=i>o?i:o,y=i>o?1:i/o,m=i>o?o/i:1;e.translate(u.x,u.y),e.rotate(l),e.scale(y,m),e.arc(0,0,p,f,f+h,!!(1-s)),e.scale(1/y,1/m),e.rotate(-l),e.translate(-u.x,-u.y)}}static pathZ(e){e.current=e.start}pathZ(e,t){Z.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}}class Us extends Z{constructor(e,t,a){super(e,t,a),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class yt extends Rt{constructor(e,t,a){super(e,t,new.target===yt?!0:a),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,t);var a=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();a&&(e.textBaseline=a)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var t=null;return this.children.forEach((a,n)=>{var i=this.getChildBoundingBox(e,this,this,n);t?t.addBoundingBox(i):t=i}),t}getFontSize(){var{document:e,parent:t}=this,a=Te.parse(e.ctx.font).fontSize,n=t.getStyle("font-size").getNumber(a);return n}getTElementBoundingBox(e){var t=this.getFontSize();return new Ve(this.x,this.y-t,this.x+this.measureText(e),this.y)}getGlyph(e,t,a){var n=t[a],i=null;if(e.isArabic){var o=t.length,s=t[a-1],l=t[a+1],u="isolated";if((a===0||s===" ")&&a<o-1&&l!==" "&&(u="terminal"),a>0&&s!==" "&&a<o-1&&l!==" "&&(u="medial"),a>0&&s!==" "&&(a===o-1||l===" ")&&(u="initial"),typeof e.glyphs[n]<"u"){var f=e.glyphs[n];i=f instanceof Us?f:f[u]}}else i=e.glyphs[n];return i||(i=e.missingGlyph),i}getText(){return""}getTextFromNode(e){var t=e||this.node,a=Array.from(t.parentNode.childNodes),n=a.indexOf(t),i=a.length-1,o=Kt(t.textContent||"");return n===0&&(o=yh(o)),n===i&&(o=mh(o)),o}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((a,n)=>{this.renderChild(e,this,this,n)});var{mouse:t}=this.document.screen;t.isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:t,parent:a}=this,n=this.getText(),i=a.getStyle("font-family").getDefinition();if(i){for(var{unitsPerEm:o}=i.fontFace,s=Te.parse(t.ctx.font),l=a.getStyle("font-size").getNumber(s.fontSize),u=a.getStyle("font-style").getString(s.fontStyle),f=l/o,h=i.isRTL?n.split("").reverse().join(""):n,c=Ae(a.getAttribute("dx").getString()),v=h.length,d=0;d<v;d++){var p=this.getGlyph(i,h,d);e.translate(this.x,this.y),e.scale(f,-f);var y=e.lineWidth;e.lineWidth=e.lineWidth*o/l,u==="italic"&&e.transform(1,0,.4,1,0,0),p.render(e),u==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=y,e.scale(1/f,-1/f),e.translate(-this.x,-this.y),this.x+=l*(p.horizAdvX||i.horizAdvX)/o,typeof c[d]<"u"&&!isNaN(c[d])&&(this.x+=c[d])}return}var{x:m,y:O}=this;e.fillStyle&&e.fillText(n,m,O),e.strokeStyle&&e.strokeText(n,m,O)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),a=!1,n=0;t==="start"&&!a||t==="end"&&a?n=e.x-this.minX:t==="end"&&!a||t==="start"&&a?n=e.x-this.maxX:n=e.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=n;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((t,a)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,a)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,t,a,n){var i=a.children[n];i.children.length>0?i.children.forEach((o,s)=>{t.adjustChildCoordinatesRecursiveCore(e,t,i,s)}):this.adjustChildCoordinates(e,t,a,n)}adjustChildCoordinates(e,t,a,n){var i=a.children[n];if(typeof i.measureText!="function")return i;e.save(),i.setContext(e,!0);var o=i.getAttribute("x"),s=i.getAttribute("y"),l=i.getAttribute("dx"),u=i.getAttribute("dy"),f=i.getStyle("font-family").getDefinition(),h=!!f&&f.isRTL;n===0&&(o.hasValue()||o.setValue(i.getInheritedAttribute("x")),s.hasValue()||s.setValue(i.getInheritedAttribute("y")),l.hasValue()||l.setValue(i.getInheritedAttribute("dx")),u.hasValue()||u.setValue(i.getInheritedAttribute("dy")));var c=i.measureText(e);return h&&(t.x-=c),o.hasValue()?(t.applyAnchoring(),i.x=o.getPixels("x"),l.hasValue()&&(i.x+=l.getPixels("x"))):(l.hasValue()&&(t.x+=l.getPixels("x")),i.x=t.x),t.x=i.x,h||(t.x+=c),s.hasValue()?(i.y=s.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(t.y+=u.getPixels("y")),i.y=t.y),t.y=i.y,t.leafTexts.push(i),t.minX=Math.min(t.minX,i.x,i.x+c),t.maxX=Math.max(t.maxX,i.x,i.x+c),i.clearContext(e),e.restore(),i}getChildBoundingBox(e,t,a,n){var i=a.children[n];if(typeof i.getBoundingBox!="function")return null;var o=i.getBoundingBox(e);return o?(i.children.forEach((s,l)=>{var u=t.getChildBoundingBox(e,t,i,l);o.addBoundingBox(u)}),o):null}renderChild(e,t,a,n){var i=a.children[n];i.render(e),i.children.forEach((o,s)=>{t.renderChild(e,t,i,s)})}measureText(e){var{measureCache:t}=this;if(~t)return t;var a=this.getText(),n=this.measureTargetText(e,a);return this.measureCache=n,n}measureTargetText(e,t){if(!t.length)return 0;var{parent:a}=this,n=a.getStyle("font-family").getDefinition();if(n){for(var i=this.getFontSize(),o=n.isRTL?t.split("").reverse().join(""):t,s=Ae(a.getAttribute("dx").getString()),l=o.length,u=0,f=0;f<l;f++){var h=this.getGlyph(n,o,f);u+=(h.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,typeof s[f]<"u"&&!isNaN(s[f])&&(u+=s[f])}return u}if(!e.measureText)return t.length*10;e.save(),this.setContext(e,!0);var{width:c}=e.measureText(t);return this.clearContext(e),e.restore(),c}getInheritedAttribute(e){for(var t=this;t instanceof yt&&t.isFirstChild();){var a=t.parent.getAttribute(e);if(a.hasValue(!0))return a.getValue("0");t=t.parent}return null}}class Yr extends yt{constructor(e,t,a){super(e,t,new.target===Yr?!0:a),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class KE extends Yr{constructor(){super(...arguments),this.type="textNode"}}class mr extends Rt{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var t,{document:a}=this,{screen:n,window:i}=a,o=e.canvas;if(n.setDefaults(e),o.style&&typeof e.font<"u"&&i&&typeof i.getComputedStyle<"u"){e.font=i.getComputedStyle(o).getPropertyValue("font");var s=new M(a,"fontSize",Te.parse(e.font).fontSize);s.hasValue()&&(a.rootEmSize=s.getPixels("y"),a.emSize=a.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:l,height:u}=n.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var f=this.getAttribute("refX"),h=this.getAttribute("refY"),c=this.getAttribute("viewBox"),v=c.hasValue()?Ae(c.getString()):null,d=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",p=0,y=0,m=0,O=0;v&&(p=v[0],y=v[1]),this.root||(l=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),this.type==="marker"&&(m=p,O=y,p=0,y=0)),n.viewPort.setCurrent(l,u),this.node&&(!this.parent||((t=this.node.parentNode)===null||t===void 0?void 0:t.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),v&&(l=v[2],u=v[3]),a.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:l,height:n.viewPort.height,desiredHeight:u,minX:p,minY:y,refX:f.getValue(),refY:h.getValue(),clip:d,clipX:m,clipY:O}),v&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(l,u))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),s=this.getAttribute("style"),l=n.getNumber(0),u=i.getNumber(0);if(a)if(typeof a=="string")this.getAttribute("preserveAspectRatio",!0).setValue(a);else{var f=this.getAttribute("preserveAspectRatio");f.hasValue()&&f.setValue(f.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(e),i.setValue(t),o.hasValue()||o.setValue("0 0 ".concat(l||e," ").concat(u||t)),s.hasValue()){var h=this.getStyle("width"),c=this.getStyle("height");h.hasValue()&&h.setValue("".concat(e,"px")),c.hasValue()&&c.setValue("".concat(t,"px"))}}}class Bs extends Z{constructor(){super(...arguments),this.type="rect"}path(e){var t=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),o=this.getAttribute("rx"),s=this.getAttribute("ry"),l=o.getPixels("x"),u=s.getPixels("y");if(o.hasValue()&&!s.hasValue()&&(u=l),s.hasValue()&&!o.hasValue()&&(l=u),l=Math.min(l,n/2),u=Math.min(u,i/2),e){var f=4*((Math.sqrt(2)-1)/3);e.beginPath(),i>0&&n>0&&(e.moveTo(t+l,a),e.lineTo(t+n-l,a),e.bezierCurveTo(t+n-l+f*l,a,t+n,a+u-f*u,t+n,a+u),e.lineTo(t+n,a+i-u),e.bezierCurveTo(t+n,a+i-u+f*u,t+n-l+f*l,a+i,t+n-l,a+i),e.lineTo(t+l,a+i),e.bezierCurveTo(t+l-f*l,a+i,t,a+i-u+f*u,t,a+i-u),e.lineTo(t,a+u),e.bezierCurveTo(t,a+u-f*u,t+l-f*l,a,t+l,a),e.closePath())}return new Ve(t,a,t+n,a+i)}getMarkers(){return null}}class _h extends Z{constructor(){super(...arguments),this.type="circle"}path(e){var t=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return e&&n>0&&(e.beginPath(),e.arc(t,a,n,0,Math.PI*2,!1),e.closePath()),new Ve(t-n,a-n,t+n,a+n)}getMarkers(){return null}}class Ih extends Z{constructor(){super(...arguments),this.type="ellipse"}path(e){var t=4*((Math.sqrt(2)-1)/3),a=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return e&&a>0&&n>0&&(e.beginPath(),e.moveTo(i+a,o),e.bezierCurveTo(i+a,o+t*n,i+t*a,o+n,i,o+n),e.bezierCurveTo(i-t*a,o+n,i-a,o+t*n,i-a,o),e.bezierCurveTo(i-a,o-t*n,i-t*a,o-n,i,o-n),e.bezierCurveTo(i+t*a,o-n,i+a,o-t*n,i+a,o),e.closePath()),new Ve(i-a,o-n,i+a,o+n)}getMarkers(){return null}}class Mh extends Z{constructor(){super(...arguments),this.type="line"}getPoints(){return[new ae(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ae(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:t,y:a},{x:n,y:i}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(t,a),e.lineTo(n,i)),new Ve(t,a,n,i)}getMarkers(){var[e,t]=this.getPoints(),a=e.angleTo(t);return[[e,a],[t,a]]}}class js extends Z{constructor(e,t,a){super(e,t,a),this.type="polyline",this.points=[],this.points=ae.parsePath(this.getAttribute("points").getString())}path(e){var{points:t}=this,[{x:a,y:n}]=t,i=new Ve(a,n);return e&&(e.beginPath(),e.moveTo(a,n)),t.forEach(o=>{var{x:s,y:l}=o;i.addPoint(s,l),e&&e.lineTo(s,l)}),i}getMarkers(){var{points:e}=this,t=e.length-1,a=[];return e.forEach((n,i)=>{i!==t&&a.push([n,n.angleTo(e[i+1])])}),a.length>0&&a.push([e[e.length-1],a[a.length-1][1]]),a}}class Lh extends js{constructor(){super(...arguments),this.type="polygon"}path(e){var t=super.path(e),[{x:a,y:n}]=this.points;return e&&(e.lineTo(a,n),e.closePath()),t}}class Dh extends ee{constructor(){super(...arguments),this.type="pattern"}createPattern(e,t,a){var n=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new mr(this.document,null);o.attributes.viewBox=new M(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new M(this.document,"width","".concat(n,"px")),o.attributes.height=new M(this.document,"height","".concat(i,"px")),o.attributes.transform=new M(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children;var s=this.document.createCanvas(n,i),l=s.getContext("2d"),u=this.getAttribute("x"),f=this.getAttribute("y");u.hasValue()&&f.hasValue()&&l.translate(u.getPixels("x",!0),f.getPixels("y",!0)),a.hasValue()?this.styles["fill-opacity"]=a:Reflect.deleteProperty(this.styles,"fill-opacity");for(var h=-1;h<=1;h++)for(var c=-1;c<=1;c++)l.save(),o.attributes.x=new M(this.document,"x",h*s.width),o.attributes.y=new M(this.document,"y",c*s.height),o.render(l),l.restore();var v=e.createPattern(s,"repeat");return v}}class kh extends ee{constructor(){super(...arguments),this.type="marker"}render(e,t,a){if(t){var{x:n,y:i}=t,o=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(n,i),o==="auto"&&e.rotate(a),s==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var l=new mr(this.document,null);l.type=this.type,l.attributes.viewBox=new M(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.refX=new M(this.document,"refX",this.getAttribute("refX").getValue()),l.attributes.refY=new M(this.document,"refY",this.getAttribute("refY").getValue()),l.attributes.width=new M(this.document,"width",this.getAttribute("markerWidth").getValue()),l.attributes.height=new M(this.document,"height",this.getAttribute("markerHeight").getValue()),l.attributes.overflow=new M(this.document,"overflow",this.getAttribute("overflow").getValue()),l.attributes.fill=new M(this.document,"fill",this.getAttribute("fill").getColor("black")),l.attributes.stroke=new M(this.document,"stroke",this.getAttribute("stroke").getValue("none")),l.children=this.children,l.render(e),e.restore(),s==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),o==="auto"&&e.rotate(-a),e.translate(-n,-i)}}}class Fh extends ee{constructor(){super(...arguments),this.type="defs"}render(){}}class rn extends Rt{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var t=new Ve;return this.children.forEach(a=>{t.addBoundingBox(a.getBoundingBox(e))}),t}}class zs extends ee{constructor(e,t,a){super(e,t,a),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:n,children:i}=this;i.forEach(o=>{o.type==="stop"&&n.push(o)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,t,a){var n=this;this.getHrefAttribute().hasValue()&&(n=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(n));var{stops:i}=n,o=this.getGradient(e,t);if(!o)return this.addParentOpacity(a,i[i.length-1].color);if(i.forEach(y=>{o.addColorStop(y.offset,this.addParentOpacity(a,y.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:s}=this,{MAX_VIRTUAL_PIXELS:l,viewPort:u}=s.screen,[f]=u.viewPorts,h=new Bs(s,null);h.attributes.x=new M(s,"x",-l/3),h.attributes.y=new M(s,"y",-l/3),h.attributes.width=new M(s,"width",l),h.attributes.height=new M(s,"height",l);var c=new rn(s,null);c.attributes.transform=new M(s,"transform",this.getAttribute("gradientTransform").getValue()),c.children=[h];var v=new mr(s,null);v.attributes.x=new M(s,"x",0),v.attributes.y=new M(s,"y",0),v.attributes.width=new M(s,"width",f.width),v.attributes.height=new M(s,"height",f.height),v.children=[c];var d=s.createCanvas(f.width,f.height),p=d.getContext("2d");return p.fillStyle=o,v.render(p),p.createPattern(d,"no-repeat")}return o}inheritStopContainer(e){this.attributesToInherit.forEach(t=>{!this.getAttribute(t).hasValue()&&e.getAttribute(t).hasValue()&&this.getAttribute(t,!0).setValue(e.getAttribute(t).getValue())})}addParentOpacity(e,t){if(e.hasValue()){var a=new M(this.document,"color",t);return a.addOpacity(e).getColor()}return t}}class Vh extends zs{constructor(e,t,a){super(e,t,a),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,t){var a=this.getGradientUnits()==="objectBoundingBox",n=a?t.getBoundingBox(e):null;if(a&&!n)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=a?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),o=a?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=a?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),l=a?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===s&&o===l?null:e.createLinearGradient(i,o,s,l)}}class Uh extends zs{constructor(e,t,a){super(e,t,a),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,t){var a=this.getGradientUnits()==="objectBoundingBox",n=t.getBoundingBox(e);if(a&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=a?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),o=a?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=i,l=o;this.getAttribute("fx").hasValue()&&(s=a?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(l=a?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=a?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),f=this.getAttribute("fr").getPixels();return e.createRadialGradient(s,l,f,i,o,u)}}class Bh extends ee{constructor(e,t,a){super(e,t,a),this.type="stop";var n=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity"),o=this.getStyle("stop-color",!0);o.getString()===""&&o.setValue("#000"),i.hasValue()&&(o=o.addOpacity(i)),this.offset=n,this.color=o.getColor()}}class an extends ee{constructor(e,t,a){super(e,t,a),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new M(e,"values",null);var n=this.getAttribute("values");n.hasValue()&&this.values.setValue(n.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}calcValue(){var{initialUnits:e}=this,{progress:t,from:a,to:n}=this.getProgress(),i=a.getNumber()+(n.getNumber()-a.getNumber())*t;return e==="%"&&(i*=100),"".concat(i).concat(e)}update(e){var{parent:t}=this,a=this.getProperty();if(this.initialValue||(this.initialValue=a.getString(),this.initialUnits=a.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(n==="freeze"&&!this.frozen)this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=a.getString();else if(n==="remove"&&!this.removed)return this.removed=!0,a.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var i=!1;if(this.begin<this.duration){var o=this.calcValue(),s=this.getAttribute("type");if(s.hasValue()){var l=s.getString();o="".concat(l,"(").concat(o,")")}a.setValue(o),i=!0}return i}getProgress(){var{document:e,values:t}=this,a={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var n=a.progress*(t.getValue().length-1),i=Math.floor(n),o=Math.ceil(n);a.from=new M(e,"from",parseFloat(t.getValue()[i])),a.to=new M(e,"to",parseFloat(t.getValue()[o])),a.progress=(n-i)/(o-i)}else a.from=this.from,a.to=this.to;return a}}class jh extends an{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:t,to:a}=this.getProgress(),n=new Ui(t.getColor()),i=new Ui(a.getColor());if(n.ok&&i.ok){var o=n.r+(i.r-n.r)*e,s=n.g+(i.g-n.g)*e,l=n.b+(i.b-n.b)*e;return"rgb(".concat(Math.floor(o),", ").concat(Math.floor(s),", ").concat(Math.floor(l),")")}return this.getAttribute("from").getColor()}}class zh extends an{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:t,to:a}=this.getProgress(),n=Ae(t.getString()),i=Ae(a.getString()),o=n.map((s,l)=>{var u=i[l];return s+(u-s)*e}).join(" ");return o}}class Hh extends ee{constructor(e,t,a){super(e,t,a),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:n}=e,{children:i}=this;for(var o of i)switch(o.type){case"font-face":{this.fontFace=o;var s=o.getStyle("font-family");s.hasValue()&&(n[s.getString()]=this);break}case"missing-glyph":this.missingGlyph=o;break;case"glyph":{var l=o;l.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[l.unicode]>"u"&&(this.glyphs[l.unicode]=Object.create(null)),this.glyphs[l.unicode][l.arabicForm]=l):this.glyphs[l.unicode]=l;break}}}render(){}}class Gh extends ee{constructor(e,t,a){super(e,t,a),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Wh extends Z{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Yh extends yt{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}}class Xh extends yt{constructor(e,t,a){super(e,t,a),this.type="a";var{childNodes:n}=t,i=n[0],o=n.length>0&&Array.from(n).every(s=>s.nodeType===3);this.hasText=o,this.text=o?this.getTextFromNode(i):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:t,x:a,y:n}=this,{mouse:i}=t.screen,o=new M(t,"fontSize",Te.parse(t.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new Ve(a,n-o.getPixels("y"),a+this.measureText(e),n))}else if(this.children.length>0){var s=new rn(this.document,null);s.children=this.children,s.parent=this,s.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function yu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function ya(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yu(Object(t),!0).forEach(function(a){Ls(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yu(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}class qh extends yt{constructor(e,t,a){super(e,t,a),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var n=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(n)}getText(){return this.text}path(e){var{dataArray:t}=this;e&&e.beginPath(),t.forEach(a=>{var{type:n,points:i}=a;switch(n){case z.LINE_TO:e&&e.lineTo(i[0],i[1]);break;case z.MOVE_TO:e&&e.moveTo(i[0],i[1]);break;case z.CURVE_TO:e&&e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case z.QUAD_TO:e&&e.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case z.ARC:{var[o,s,l,u,f,h,c,v]=i,d=l>u?l:u,p=l>u?1:l/u,y=l>u?u/l:1;e&&(e.translate(o,s),e.rotate(c),e.scale(p,y),e.arc(0,0,d,f,f+h,!!(1-v)),e.scale(1/p,1/y),e.rotate(-c),e.translate(-o,-s));break}case z.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),a=this.getFontSize(),{glyphInfo:n}=this,i=e.fillStyle;t==="underline"&&e.beginPath(),n.forEach((o,s)=>{var{p0:l,p1:u,rotation:f,text:h}=o;e.save(),e.translate(l.x,l.y),e.rotate(f),e.fillStyle&&e.fillText(h,0,0),e.strokeStyle&&e.strokeText(h,0,0),e.restore(),t==="underline"&&(s===0&&e.moveTo(l.x,l.y+a/8),e.lineTo(u.x,u.y+a/5))}),t==="underline"&&(e.lineWidth=a/20,e.strokeStyle=i,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,t,a,n,i,o,s,l,u){var f=o,h=this.measureText(e,l);l===" "&&t==="justify"&&a<n&&(h+=(n-a)/i),u>-1&&(f+=this.getLetterSpacingAt(u));var c=this.textHeight/20,v=this.getEquidistantPointOnPath(f,c,0),d=this.getEquidistantPointOnPath(f+h,c,0),p={p0:v,p1:d},y=v&&d?Math.atan2(d.y-v.y,d.x-v.x):0;if(s){var m=Math.cos(Math.PI/2+y)*s,O=Math.cos(-y)*s;p.p0=ya(ya({},v),{},{x:v.x+m,y:v.y+O}),p.p1=ya(ya({},d),{},{x:d.x+m,y:d.y+O})}return f+=h,{offset:f,segment:p,rotation:y}}measureText(e,t){var{measuresCache:a}=this,n=t||this.getText();if(a.has(n))return a.get(n);var i=this.measureTargetText(e,n);return a.set(n,i),i}setTextData(e){if(!this.glyphInfo){var t=this.getText(),a=t.split(""),n=t.split(" ").length-1,i=this.parent.getAttribute("dx").split().map(T=>T.getPixels("x")),o=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),l=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),f=0;!l.hasValue()||l.getValue()==="inherit"?f=u.getPixels():l.hasValue()&&l.getValue()!=="initial"&&l.getValue()!=="unset"&&(f=l.getPixels());var h=[],c=t.length;this.letterSpacingCache=h;for(var v=0;v<c;v++)h.push(typeof i[v]<"u"?i[v]:f);var d=h.reduce((T,_,N)=>N===0?0:T+_||0,0),p=this.measureText(e),y=Math.max(p+d,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var m=this.getPathLength(),O=this.getStyle("startOffset").getNumber(0)*m,b=0;(s==="middle"||s==="center")&&(b=-y/2),(s==="end"||s==="right")&&(b=-y),b+=O,a.forEach((T,_)=>{var{offset:N,segment:A,rotation:P}=this.findSegmentToFitChar(e,s,y,m,n,b,o,T,_);b=N,!(!A.p0||!A.p1)&&this.glyphInfo.push({text:a[_],p0:A.p0,p1:A.p1,rotation:P})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var t=[],{pathParser:a}=e;for(a.reset();!a.isEnd();){var{current:n}=a,i=n?n.x:0,o=n?n.y:0,s=a.next(),l=s.type,u=[];switch(s.type){case z.MOVE_TO:this.pathM(a,u);break;case z.LINE_TO:l=this.pathL(a,u);break;case z.HORIZ_LINE_TO:l=this.pathH(a,u);break;case z.VERT_LINE_TO:l=this.pathV(a,u);break;case z.CURVE_TO:this.pathC(a,u);break;case z.SMOOTH_CURVE_TO:l=this.pathS(a,u);break;case z.QUAD_TO:this.pathQ(a,u);break;case z.SMOOTH_QUAD_TO:l=this.pathT(a,u);break;case z.ARC:u=this.pathA(a);break;case z.CLOSE_PATH:Z.pathZ(a);break}s.type!==z.CLOSE_PATH?t.push({type:l,points:u,start:{x:i,y:o},pathLength:this.calcLength(i,o,l,u)}):t.push({type:z.CLOSE_PATH,points:[],pathLength:0})}return t}pathM(e,t){var{x:a,y:n}=Z.pathM(e).point;t.push(a,n)}pathL(e,t){var{x:a,y:n}=Z.pathL(e).point;return t.push(a,n),z.LINE_TO}pathH(e,t){var{x:a,y:n}=Z.pathH(e).point;return t.push(a,n),z.LINE_TO}pathV(e,t){var{x:a,y:n}=Z.pathV(e).point;return t.push(a,n),z.LINE_TO}pathC(e,t){var{point:a,controlPoint:n,currentPoint:i}=Z.pathC(e);t.push(a.x,a.y,n.x,n.y,i.x,i.y)}pathS(e,t){var{point:a,controlPoint:n,currentPoint:i}=Z.pathS(e);return t.push(a.x,a.y,n.x,n.y,i.x,i.y),z.CURVE_TO}pathQ(e,t){var{controlPoint:a,currentPoint:n}=Z.pathQ(e);t.push(a.x,a.y,n.x,n.y)}pathT(e,t){var{controlPoint:a,currentPoint:n}=Z.pathT(e);return t.push(a.x,a.y,n.x,n.y),z.QUAD_TO}pathA(e){var{rX:t,rY:a,sweepFlag:n,xAxisRotation:i,centp:o,a1:s,ad:l}=Z.pathA(e);return n===0&&l>0&&(l-=2*Math.PI),n===1&&l<0&&(l+=2*Math.PI),[o.x,o.y,t,a,s,l,i,n]}calcLength(e,t,a,n){var i=0,o=null,s=null,l=0;switch(a){case z.LINE_TO:return this.getLineLength(e,t,n[0],n[1]);case z.CURVE_TO:for(i=0,o=this.getPointOnCubicBezier(0,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),l=.01;l<=1;l+=.01)s=this.getPointOnCubicBezier(l,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return i;case z.QUAD_TO:for(i=0,o=this.getPointOnQuadraticBezier(0,e,t,n[0],n[1],n[2],n[3]),l=.01;l<=1;l+=.01)s=this.getPointOnQuadraticBezier(l,e,t,n[0],n[1],n[2],n[3]),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return i;case z.ARC:{i=0;var u=n[4],f=n[5],h=n[4]+f,c=Math.PI/180;if(Math.abs(u-h)<c&&(c=Math.abs(u-h)),o=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),f<0)for(l=u-c;l>h;l-=c)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(l=u+c;l<h;l+=c)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),i+=this.getLineLength(o.x,o.y,s.x,s.y),i}}return 0}getPointOnLine(e,t,a,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:a,l=(i-a)/(n-t+Wt),u=Math.sqrt(e*e/(1+l*l));n<t&&(u*=-1);var f=l*u,h=null;if(n===t)h={x:o,y:s+f};else if((s-a)/(o-t+Wt)===l)h={x:o+u,y:s+f};else{var c=0,v=0,d=this.getLineLength(t,a,n,i);if(d<Wt)return null;var p=(o-t)*(n-t)+(s-a)*(i-a);p/=d*d,c=t+p*(n-t),v=a+p*(i-a);var y=this.getLineLength(o,s,c,v),m=Math.sqrt(e*e-y*y);u=Math.sqrt(m*m/(1+l*l)),n<t&&(u*=-1),f=l*u,h={x:c+u,y:v+f}}return h}getPointOnPath(e){var t=this.getPathLength(),a=0,n=null;if(e<-5e-5||e-5e-5>t)return null;var{dataArray:i}=this;for(var o of i){if(o&&(o.pathLength<5e-5||a+o.pathLength+5e-5<e)){a+=o.pathLength;continue}var s=e-a,l=0;switch(o.type){case z.LINE_TO:n=this.getPointOnLine(s,o.start.x,o.start.y,o.points[0],o.points[1],o.start.x,o.start.y);break;case z.ARC:{var u=o.points[4],f=o.points[5],h=o.points[4]+f;if(l=u+s/o.pathLength*f,f<0&&l<h||f>=0&&l>h)break;n=this.getPointOnEllipticalArc(o.points[0],o.points[1],o.points[2],o.points[3],l,o.points[6]);break}case z.CURVE_TO:l=s/o.pathLength,l>1&&(l=1),n=this.getPointOnCubicBezier(l,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3],o.points[4],o.points[5]);break;case z.QUAD_TO:l=s/o.pathLength,l>1&&(l=1),n=this.getPointOnQuadraticBezier(l,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3]);break}if(n)return n;break}return null}getLineLength(e,t,a,n){return Math.sqrt((a-e)*(a-e)+(n-t)*(n-t))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,t)=>t.pathLength>0?e+t.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,t,a,n,i,o,s,l,u){var f=l*Gi(e)+o*Wi(e)+n*Yi(e)+t*Xi(e),h=u*Gi(e)+s*Wi(e)+i*Yi(e)+a*Xi(e);return{x:f,y:h}}getPointOnQuadraticBezier(e,t,a,n,i,o,s){var l=o*qi(e)+n*Qi(e)+t*Ki(e),u=s*qi(e)+i*Qi(e)+a*Ki(e);return{x:l,y:u}}getPointOnEllipticalArc(e,t,a,n,i,o){var s=Math.cos(o),l=Math.sin(o),u={x:a*Math.cos(i),y:n*Math.sin(i)};return{x:e+(u.x*s-u.y*l),y:t+(u.x*l+u.y*s)}}buildEquidistantCache(e,t){var a=this.getPathLength(),n=t||.25,i=e||a/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==n){this.equidistantCache={step:i,precision:n,points:[]};for(var o=0,s=0;s<=a;s+=n){var l=this.getPointOnPath(s),u=this.getPointOnPath(s+n);!l||!u||(o+=this.getLineLength(l.x,l.y,u.x,u.y),o>=i&&(this.equidistantCache.points.push({x:l.x,y:l.y,distance:s}),o-=i))}}}getEquidistantPointOnPath(e,t,a){if(this.buildEquidistantCache(t,a),e<0||e-this.getPathLength()>5e-5)return null;var n=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[n]||null}}var ZE=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Qh extends Rt{constructor(e,t,a){super(e,t,a),this.type="image",this.loaded=!1;var n=this.getHrefAttribute().getString();if(n){var i=n.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(n);e.images.push(this),i?this.loadSvg(n):this.loadImage(n),this.isSvg=i}}loadImage(e){var t=this;return pt(function*(){try{var a=yield t.document.createImage(e);t.image=a}catch(n){console.error('Error while loading image "'.concat(e,'":'),n)}t.loaded=!0})()}loadSvg(e){var t=this;return pt(function*(){var a=ZE.exec(e);if(a){var n=a[5];a[4]==="base64"?t.image=atob(n):t.image=decodeURIComponent(n)}else try{var i=yield t.document.fetch(e),o=yield i.text();t.image=o}catch(s){console.error('Error while loading image "'.concat(e,'":'),s)}t.loaded=!0})()}renderChildren(e){var{document:t,image:a,loaded:n}=this,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y");if(!(!n||!a||!s||!l)){if(e.save(),e.translate(i,o),this.isSvg){var u=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:l});u.document.documentElement.parent=this,u.render()}else{var f=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:f.width,height:l,desiredHeight:f.height}),this.loaded&&(typeof f.complete>"u"||f.complete)&&e.drawImage(f,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new Ve(e,t,e+a,t+n)}}class Kh extends Rt{constructor(){super(...arguments),this.type="symbol"}render(e){}}class Zh{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,t){var a=this;return pt(function*(){try{var{document:n}=a,i=yield n.canvg.parser.load(t),o=i.getElementsByTagName("font");Array.from(o).forEach(s=>{var l=n.createElement(s);n.definitions[e]=l})}catch(s){console.error('Error while loading font "'.concat(t,'":'),s)}a.loaded=!0})()}}class Hs extends ee{constructor(e,t,a){super(e,t,a),this.type="style";var n=Kt(Array.from(t.childNodes).map(o=>o.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),i=n.split("}");i.forEach(o=>{var s=o.trim();if(s){var l=s.split("{"),u=l[0].split(","),f=l[1].split(";");u.forEach(h=>{var c=h.trim();if(c){var v=e.styles[c]||{};if(f.forEach(y=>{var m=y.indexOf(":"),O=y.substr(0,m).trim(),b=y.substr(m+1,y.length-m).trim();O&&b&&(v[O]=new M(e,O,b))}),e.styles[c]=v,e.stylesSpecificity[c]=Eh(c),c==="@font-face"){var d=v["font-family"].getString().replace(/"|'/g,""),p=v.src.getString().split(",");p.forEach(y=>{if(y.indexOf('format("svg")')>0){var m=ks(y);m&&new Zh(e).load(d,m)}})}}})}})}}Hs.parseExternalUrl=ks;class Jh extends Rt{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var t=this.getAttribute("x"),a=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),a.hasValue()&&e.translate(0,a.getPixels("y"))}path(e){var{element:t}=this;t&&t.path(e)}renderChildren(e){var{document:t,element:a}=this;if(a){var n=a;if(a.type==="symbol"&&(n=new mr(t,null),n.attributes.viewBox=new M(t,"viewBox",a.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new M(t,"preserveAspectRatio",a.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new M(t,"overflow",a.getAttribute("overflow").getString()),n.children=a.children,a.styles.opacity=new M(t,"opacity",this.calculateOpacity())),n.type==="svg"){var i=this.getStyle("width",!1,!0),o=this.getStyle("height",!1,!0);i.hasValue()&&(n.attributes.width=new M(t,"width",i.getString())),o.hasValue()&&(n.attributes.height=new M(t,"height",o.getString()))}var s=n.parent;n.parent=this,n.render(e),n.parent=s}}getBoundingBox(e){var{element:t}=this;return t?t.getBoundingBox(e):null}elementTransform(){var{document:e,element:t}=this;return Pt.fromElement(e,t)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function ma(r,e,t,a,n,i){return r[t*a*4+e*4+i]}function ba(r,e,t,a,n,i,o){r[t*a*4+e*4+i]=o}function oe(r,e,t){var a=r[e];return a*t}function ct(r,e,t,a){return e+Math.cos(r)*t+Math.sin(r)*a}class Gs extends ee{constructor(e,t,a){super(e,t,a),this.type="feColorMatrix";var n=Ae(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var i=n[0];n=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var o=n[0]*Math.PI/180;n=[ct(o,.213,.787,-.213),ct(o,.715,-.715,-.715),ct(o,.072,-.072,.928),0,0,ct(o,.213,-.213,.143),ct(o,.715,.285,.14),ct(o,.072,-.072,-.283),0,0,ct(o,.213,-.213,-.787),ct(o,.715,-.715,.715),ct(o,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=n,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,t,a,n,i){for(var{includeOpacity:o,matrix:s}=this,l=e.getImageData(0,0,n,i),u=0;u<i;u++)for(var f=0;f<n;f++){var h=ma(l.data,f,u,n,i,0),c=ma(l.data,f,u,n,i,1),v=ma(l.data,f,u,n,i,2),d=ma(l.data,f,u,n,i,3),p=oe(s,0,h)+oe(s,1,c)+oe(s,2,v)+oe(s,3,d)+oe(s,4,1),y=oe(s,5,h)+oe(s,6,c)+oe(s,7,v)+oe(s,8,d)+oe(s,9,1),m=oe(s,10,h)+oe(s,11,c)+oe(s,12,v)+oe(s,13,d)+oe(s,14,1),O=oe(s,15,h)+oe(s,16,c)+oe(s,17,v)+oe(s,18,d)+oe(s,19,1);o&&(p=0,y=0,m=0,O*=d/255),ba(l.data,f,u,n,i,0,p),ba(l.data,f,u,n,i,1,y),ba(l.data,f,u,n,i,2,m),ba(l.data,f,u,n,i,3,O)}e.clearRect(0,0,n,i),e.putImageData(l,0,0)}}class Xr extends ee{constructor(){super(...arguments),this.type="mask"}apply(e,t){var{document:a}=this,n=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!o&&!s){var l=new Ve;this.children.forEach(d=>{l.addBoundingBox(d.getBoundingBox(e))}),n=Math.floor(l.x1),i=Math.floor(l.y1),o=Math.floor(l.width),s=Math.floor(l.height)}var u=this.removeStyles(t,Xr.ignoreStyles),f=a.createCanvas(n+o,i+s),h=f.getContext("2d");a.screen.setDefaults(h),this.renderChildren(h),new Gs(a,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(h,0,0,n+o,i+s);var c=a.createCanvas(n+o,i+s),v=c.getContext("2d");a.screen.setDefaults(v),t.render(v),v.globalCompositeOperation="destination-in",v.fillStyle=h.createPattern(f,"no-repeat"),v.fillRect(0,0,n+o,i+s),e.fillStyle=v.createPattern(c,"no-repeat"),e.fillRect(0,0,n+o,i+s),this.restoreStyles(t,u)}render(e){}}Xr.ignoreStyles=["mask","transform","clip-path"];var mu=()=>{};class ev extends ee{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:t}=this,a=Reflect.getPrototypeOf(e),{beginPath:n,closePath:i}=e;a&&(a.beginPath=mu,a.closePath=mu),Reflect.apply(n,e,[]),this.children.forEach(o=>{if(!(typeof o.path>"u")){var s=typeof o.elementTransform<"u"?o.elementTransform():null;s||(s=Pt.fromElement(t,o)),s&&s.apply(e),o.path(e),a&&(a.closePath=i),s&&s.unapply(e)}}),Reflect.apply(i,e,[]),e.clip(),a&&(a.beginPath=n,a.closePath=i)}render(e){}}class qr extends ee{constructor(){super(...arguments),this.type="filter"}apply(e,t){var{document:a,children:n}=this,i=t.getBoundingBox(e);if(i){var o=0,s=0;n.forEach(m=>{var O=m.extraFilterDistance||0;o=Math.max(o,O),s=Math.max(s,O)});var l=Math.floor(i.width),u=Math.floor(i.height),f=l+2*o,h=u+2*s;if(!(f<1||h<1)){var c=Math.floor(i.x),v=Math.floor(i.y),d=this.removeStyles(t,qr.ignoreStyles),p=a.createCanvas(f,h),y=p.getContext("2d");a.screen.setDefaults(y),y.translate(-c+o,-v+s),t.render(y),n.forEach(m=>{typeof m.apply=="function"&&m.apply(y,0,0,f,h)}),e.drawImage(p,0,0,f,h,c-o,v-s,f,h),this.restoreStyles(t,d)}}}render(e){}}qr.ignoreStyles=["filter","transform","clip-path"];class tv extends ee{constructor(e,t,a){super(e,t,a),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,t,a,n,i){}}class rv extends ee{constructor(){super(...arguments),this.type="feMorphology"}apply(e,t,a,n,i){}}class av extends ee{constructor(){super(...arguments),this.type="feComposite"}apply(e,t,a,n,i){}}class nv extends ee{constructor(e,t,a){super(e,t,a),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,t,a,n,i){var{document:o,blurRadius:s}=this,l=o.window?o.window.document.body:null,u=e.canvas;u.id=o.getUniqueId(),l&&(u.style.display="none",l.appendChild(u)),RE(u,t,a,n,i,s),l&&l.removeChild(u)}}class iv extends ee{constructor(){super(...arguments),this.type="title"}}class sv extends ee{constructor(){super(...arguments),this.type="desc"}}var JE={svg:mr,rect:Bs,circle:_h,ellipse:Ih,line:Mh,polyline:js,polygon:Lh,path:Z,pattern:Dh,marker:kh,defs:Fh,linearGradient:Vh,radialGradient:Uh,stop:Bh,animate:an,animateColor:jh,animateTransform:zh,font:Hh,"font-face":Gh,"missing-glyph":Wh,glyph:Us,text:yt,tspan:Yr,tref:Yh,a:Xh,textPath:qh,image:Qh,g:rn,symbol:Kh,style:Hs,use:Jh,mask:Xr,clipPath:ev,filter:qr,feDropShadow:tv,feMorphology:rv,feComposite:av,feColorMatrix:Gs,feGaussianBlur:nv,title:iv,desc:sv};function bu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function eO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bu(Object(t),!0).forEach(function(a){Ls(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bu(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function tO(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t}function rO(r){return Zi.apply(this,arguments)}function Zi(){return Zi=pt(function*(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=document.createElement("img");return e&&(t.crossOrigin="Anonymous"),new Promise((a,n)=>{t.onload=()=>{a(t)},t.onerror=(i,o,s,l,u)=>{n(u)},t.src=r})}),Zi.apply(this,arguments)}class dt{constructor(e){var{rootEmSize:t=12,emSize:a=12,createCanvas:n=dt.createCanvas,createImage:i=dt.createImage,anonymousCrossOrigin:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=t,this.emSize=a,this.createCanvas=n,this.createImage=this.bindCreateImage(i,o),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,t){return typeof t=="boolean"?(a,n)=>e(a,typeof n=="boolean"?n:t):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:t}=this;t.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}createElement(e){var t=e.nodeName.replace(/^[^:]+:/,""),a=dt.elementTypes[t];return typeof a<"u"?new a(this,e):new Nh(this,e)}createTextNode(e){return new KE(this,e)}setViewBox(e){this.screen.setViewBox(eO({document:this},e))}}dt.createCanvas=tO;dt.createImage=rO;dt.elementTypes=JE;function Tu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function zt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tu(Object(t),!0).forEach(function(a){Ls(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Tu(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}class Gt{constructor(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new $a(a),this.screen=new Wr(e,a),this.options=a;var n=new dt(this,a),i=n.createDocumentElement(t);this.document=n,this.documentElement=i}static from(e,t){var a=arguments;return pt(function*(){var n=a.length>2&&a[2]!==void 0?a[2]:{},i=new $a(n),o=yield i.parse(t);return new Gt(e,o,n)})()}static fromString(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=new $a(a),i=n.parseFromString(t);return new Gt(e,i,a)}fork(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gt.from(e,t,zt(zt({},this.options),a))}forkString(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gt.fromString(e,t,zt(zt({},this.options),a))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,t=this;return pt(function*(){var a=e.length>0&&e[0]!==void 0?e[0]:{};t.start(zt({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},a)),yield t.ready(),t.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:t,screen:a,options:n}=this;a.start(t,zt(zt({enableRedraw:!0},n),e))}stop(){this.screen.stop()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,t,a)}}const uO=Object.freeze(Object.defineProperty({__proto__:null,AElement:Xh,AnimateColorElement:jh,AnimateElement:an,AnimateTransformElement:zh,BoundingBox:Ve,CB1:Gi,CB2:Wi,CB3:Yi,CB4:Xi,Canvg:Gt,CircleElement:_h,ClipPathElement:ev,DefsElement:Fh,DescElement:sv,Document:dt,Element:ee,EllipseElement:Ih,FeColorMatrixElement:Gs,FeCompositeElement:av,FeDropShadowElement:tv,FeGaussianBlurElement:nv,FeMorphologyElement:rv,FilterElement:qr,Font:Te,FontElement:Hh,FontFaceElement:Gh,GElement:rn,GlyphElement:Us,GradientElement:zs,ImageElement:Qh,LineElement:Mh,LinearGradientElement:Vh,MarkerElement:kh,MaskElement:Xr,Matrix:Fs,MissingGlyphElement:Wh,Mouse:Sh,PSEUDO_ZERO:Wt,Parser:$a,PathElement:Z,PathParser:z,PatternElement:Dh,Point:ae,PolygonElement:Lh,PolylineElement:js,Property:M,QB1:qi,QB2:Qi,QB3:Ki,RadialGradientElement:Uh,RectElement:Bs,RenderedElement:Rt,Rotate:Ch,SVGElement:mr,SVGFontLoader:Zh,Scale:$h,Screen:Wr,Skew:Vs,SkewX:Ph,SkewY:Rh,StopElement:Bh,StyleElement:Hs,SymbolElement:Kh,TRefElement:Yh,TSpanElement:Yr,TextElement:yt,TextPathElement:qh,TitleElement:iv,Transform:Pt,Translate:Ah,UnknownElement:Nh,UseElement:Jh,ViewPort:Oh,compressSpaces:Kt,default:Gt,getSelectorSpecificity:Eh,normalizeAttributeName:bh,normalizeColor:Th,parseExternalUrl:ks,presets:ME,toNumbers:Ae,trimLeft:yh,trimRight:mh,vectorMagnitude:zi,vectorsAngle:Hi,vectorsRatio:Da},Symbol.toStringTag,{value:"Module"}));export{Mr as _,uO as i,lO as p,iO as s,oO as u,sO as z};
